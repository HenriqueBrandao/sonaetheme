"use strict";!function(r){var e=function(e){window.console&&window.console.warn&&window.console.warn("FeatherlightGallery: "+e)};if(void 0===r)return e("Too much lightness, Featherlight needs jQuery.");if(!r.featherlight)return e("Load the featherlight plugin before the gallery plugin");var t="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,n=r.event&&r.event.special.swipeleft&&r,i=window.Hammer&&function(e){var t=new window.Hammer.Manager(e[0]);return t.add(new window.Hammer.Swipe),t},a=t&&(n||i);t&&!a&&e("No compatible swipe library detected; one must be included before featherlightGallery for swipe motions to navigate the galleries.");var s={afterClose:function(e,t){var n=this;return n.$instance.off("next."+n.namespace+" previous."+n.namespace),n._swiper&&(n._swiper.off("swipeleft",n._swipeleft).off("swiperight",n._swiperight),n._swiper=null),e(t)},beforeOpen:function(e,t){var n=this;return n.$instance.on("next."+n.namespace+" previous."+n.namespace,function(e){var t="next"===e.type?1:-1;n.navigateTo(n.currentNavigation()+t)}),a&&(n._swiper=a(n.$instance).on("swipeleft",n._swipeleft=function(){n.$instance.trigger("next")}).on("swiperight",n._swiperight=function(){n.$instance.trigger("previous")}),n.$instance.addClass(this.namespace+"-swipe-aware",a)),n.$instance.find("."+n.namespace+"-content").append(n.createNavigation("previous")).append(n.createNavigation("next")),e(t)},beforeContent:function(e,t){var n=this.currentNavigation(),i=this.slides().length;return this.$instance.toggleClass(this.namespace+"-first-slide",0===n).toggleClass(this.namespace+"-last-slide",n===i-1),e(t)},onKeyUp:function(e,t){var n={37:"previous",39:"next"}[t.keyCode];return n?(this.$instance.trigger(n),!1):e(t)}};function o(e,t){if(!(this instanceof o)){var n=new o(r.extend({$source:e,$currentTarget:e.first()},t));return n.open(),n}r.featherlight.apply(this,arguments),this.chainCallbacks(s)}r.featherlight.extend(o,{autoBind:"[data-featherlight-gallery]"}),r.extend(o.prototype,{previousIcon:"&#9664;",nextIcon:"&#9654;",galleryFadeIn:100,galleryFadeOut:300,slides:function(){return this.filter?this.$source.find(this.filter):this.$source},images:function(){return e("images is deprecated, please use slides instead"),this.slides()},currentNavigation:function(){return this.slides().index(this.$currentTarget)},navigateTo:function(e){var t=this,n=t.slides(),i=n.length,a=t.$instance.find("."+t.namespace+"-inner");return e=(e%i+i)%i,t.$currentTarget=n.eq(e),t.beforeContent(),r.when(t.getContent(),a.fadeTo(t.galleryFadeOut,.2)).always(function(e){t.setContent(e),t.afterContent(),e.fadeTo(t.galleryFadeIn,1)})},createNavigation:function(t){var n=this;return r('<span title="'+t+'" class="'+this.namespace+"-"+t+'"><span>'+this[t+"Icon"]+"</span></span>").click(function(e){r(this).trigger(t+"."+n.namespace),e.preventDefault()})}}),r.featherlightGallery=o,r.fn.featherlightGallery=function(e){return o.attach(this,e),this},r(document).ready(function(){o._onReady()})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZlYXRoZXJsaWdodC5nYWxsZXJ5LmpzIl0sIm5hbWVzIjpbIiQiLCJ3YXJuIiwibSIsIndpbmRvdyIsImNvbnNvbGUiLCJmZWF0aGVybGlnaHQiLCJpc1RvdWNoQXdhcmUiLCJEb2N1bWVudFRvdWNoIiwiZG9jdW1lbnQiLCJqUXVlcnlDb25zdHJ1Y3RvciIsImV2ZW50Iiwic3BlY2lhbCIsInN3aXBlbGVmdCIsImhhbW1lckNvbnN0cnVjdG9yIiwiSGFtbWVyIiwiJGVsIiwibWMiLCJNYW5hZ2VyIiwiYWRkIiwiU3dpcGUiLCJzd2lwZUF3YXJlQ29uc3RydWN0b3IiLCJjYWxsYmFja0NoYWluIiwiYWZ0ZXJDbG9zZSIsIl9zdXBlciIsInNlbGYiLCJ0aGlzIiwiJGluc3RhbmNlIiwib2ZmIiwibmFtZXNwYWNlIiwiX3N3aXBlciIsIl9zd2lwZWxlZnQiLCJfc3dpcGVyaWdodCIsImJlZm9yZU9wZW4iLCJvbiIsIm9mZnNldCIsInR5cGUiLCJuYXZpZ2F0ZVRvIiwiY3VycmVudE5hdmlnYXRpb24iLCJ0cmlnZ2VyIiwiYWRkQ2xhc3MiLCJmaW5kIiwiYXBwZW5kIiwiY3JlYXRlTmF2aWdhdGlvbiIsImJlZm9yZUNvbnRlbnQiLCJpbmRleCIsImxlbiIsInNsaWRlcyIsImxlbmd0aCIsInRvZ2dsZUNsYXNzIiwib25LZXlVcCIsImRpciIsIjM3IiwiMzkiLCJrZXlDb2RlIiwiRmVhdGhlcmxpZ2h0R2FsbGVyeSIsIiRzb3VyY2UiLCJjb25maWciLCJmbGciLCJleHRlbmQiLCIkY3VycmVudFRhcmdldCIsImZpcnN0Iiwib3BlbiIsImFwcGx5IiwiYXJndW1lbnRzIiwiY2hhaW5DYWxsYmFja3MiLCJhdXRvQmluZCIsInByb3RvdHlwZSIsInByZXZpb3VzSWNvbiIsIm5leHRJY29uIiwiZ2FsbGVyeUZhZGVJbiIsImdhbGxlcnlGYWRlT3V0IiwiZmlsdGVyIiwiaW1hZ2VzIiwic291cmNlIiwiJGlubmVyIiwiZXEiLCJ3aGVuIiwiZ2V0Q29udGVudCIsImZhZGVUbyIsImFsd2F5cyIsIiRuZXdDb250ZW50Iiwic2V0Q29udGVudCIsImFmdGVyQ29udGVudCIsInRhcmdldCIsImNsaWNrIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJmZWF0aGVybGlnaHRHYWxsZXJ5IiwiZm4iLCJhdHRhY2giLCJyZWFkeSIsIl9vblJlYWR5IiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiY0FPQyxTQUFTQSxHQUdULElBQUlDLEVBQU8sU0FBU0MsR0FDaEJDLE9BQU9DLFNBQVdELE9BQU9DLFFBQVFILE1BQ25DRSxPQUFPQyxRQUFRSCxLQUFLLHdCQUEwQkMsSUFJaEQsUUFBRyxJQUF1QkYsRUFDekIsT0FBT0MsRUFBSyxrREFDTixJQUFJRCxFQUFFSyxhQUNaLE9BQU9KLEVBQUssMERBR2IsSUFBSUssRUFBZ0IsaUJBQWtCSCxRQUFXQSxPQUFPSSxlQUFpQkMsb0JBQW9CRCxjQUM1RkUsRUFBb0JULEVBQUVVLE9BQVNWLEVBQUVVLE1BQU1DLFFBQVFDLFdBQWFaLEVBQzVEYSxFQUFvQlYsT0FBT1csUUFBVSxTQUFTQyxHQUM3QyxJQUFJQyxFQUFLLElBQUliLE9BQU9XLE9BQU9HLFFBQVFGLEVBQUksSUFFdkMsT0FEQUMsRUFBR0UsSUFBSSxJQUFJZixPQUFPVyxPQUFPSyxPQUNsQkgsR0FFUkksRUFBd0JkLElBQWlCRyxHQUFxQkksR0FDNURQLElBQWlCYyxHQUNuQm5CLEVBQUssc0lBR04sSUFBSW9CLEVBQWdCLENBQ2xCQyxXQUFZLFNBQVNDLEVBQVFiLEdBQzNCLElBQUljLEVBQU9DLEtBUVgsT0FQQUQsRUFBS0UsVUFBVUMsSUFBSSxRQUFRSCxFQUFLSSxVQUFVLGFBQWFKLEVBQUtJLFdBQ3hESixFQUFLSyxVQUNSTCxFQUFLSyxRQUNIRixJQUFJLFlBQWFILEVBQUtNLFlBQ3RCSCxJQUFJLGFBQWNILEVBQUtPLGFBQ3pCUCxFQUFLSyxRQUFVLE1BRVROLEVBQU9iLElBRWhCc0IsV0FBWSxTQUFTVCxFQUFRYixHQUMzQixJQUFJYyxFQUFPQyxLQW9CWCxPQWxCQUQsRUFB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QyxFQUFPLElBQUkzRCxFQUFLSSxXQUNoQ3lELEVBQUlDLHNCQUtQdEYsRUFBRXVGLG9CQUFzQmpDLEVBR3hCdEQsRUFBRXdGLEdBQUdELG9CQUFzQixTQUFTL0IsR0FFbkMsT0FEQUYsRUFBb0JtQyxPQUFPaEUsS0FBTStCLEdBQzFCL0IsTUFJUnpCLEVBQUVRLFVBQVVrRixNQUFNLFdBQVlwQyxFQUFvQnFDLGFBL0psRCxDQWlLQ0MiLCJmaWxlIjoiZmVhdGhlcmxpZ2h0LmdhbGxlcnkubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGZWF0aGVybGlnaHQgR2FsbGVyeSDigJMgYW4gZXh0ZW5zaW9uIGZvciB0aGUgdWx0cmEgc2xpbSBqUXVlcnkgbGlnaHRib3hcbiAqIFZlcnNpb24gMS43LjEzIC0gaHR0cDovL25vZWxib3NzLmdpdGh1Yi5pby9mZWF0aGVybGlnaHQvXG4gKlxuICogQ29weXJpZ2h0IDIwMTgsIE5vw6tsIFJhb3VsIEJvc3NhcnQgKGh0dHA6Ly93d3cubm9lbGJvc3MuY29tKVxuICogTUlUIExpY2Vuc2VkLlxuKiovXG4oZnVuY3Rpb24oJCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgd2FybiA9IGZ1bmN0aW9uKG0pIHtcblx0XHRpZih3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS53YXJuKSB7XG5cdFx0XHR3aW5kb3cuY29uc29sZS53YXJuKCdGZWF0aGVybGlnaHRHYWxsZXJ5OiAnICsgbSk7XG5cdFx0fVxuXHR9O1xuXG5cdGlmKCd1bmRlZmluZWQnID09PSB0eXBlb2YgJCkge1xuXHRcdHJldHVybiB3YXJuKCdUb28gbXVjaCBsaWdodG5lc3MsIEZlYXRoZXJsaWdodCBuZWVkcyBqUXVlcnkuJyk7XG5cdH0gZWxzZSBpZighJC5mZWF0aGVybGlnaHQpIHtcblx0XHRyZXR1cm4gd2FybignTG9hZCB0aGUgZmVhdGhlcmxpZ2h0IHBsdWdpbiBiZWZvcmUgdGhlIGdhbGxlcnkgcGx1Z2luJyk7XG5cdH1cblxuXHR2YXIgaXNUb3VjaEF3YXJlID0gKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykgfHwgd2luZG93LkRvY3VtZW50VG91Y2ggJiYgZG9jdW1lbnQgaW5zdGFuY2VvZiBEb2N1bWVudFRvdWNoLFxuXHRcdGpRdWVyeUNvbnN0cnVjdG9yID0gJC5ldmVudCAmJiAkLmV2ZW50LnNwZWNpYWwuc3dpcGVsZWZ0ICYmICQsXG5cdFx0aGFtbWVyQ29uc3RydWN0b3IgPSB3aW5kb3cuSGFtbWVyICYmIGZ1bmN0aW9uKCRlbCl7XG5cdFx0XHR2YXIgbWMgPSBuZXcgd2luZG93LkhhbW1lci5NYW5hZ2VyKCRlbFswXSk7XG5cdFx0XHRtYy5hZGQobmV3IHdpbmRvdy5IYW1tZXIuU3dpcGUoKSk7XG5cdFx0XHRyZXR1cm4gbWM7XG5cdFx0fSxcblx0XHRzd2lwZUF3YXJlQ29uc3RydWN0b3IgPSBpc1RvdWNoQXdhcmUgJiYgKGpRdWVyeUNvbnN0cnVjdG9yIHx8IGhhbW1lckNvbnN0cnVjdG9yKTtcblx0aWYoaXNUb3VjaEF3YXJlICYmICFzd2lwZUF3YXJlQ29uc3RydWN0b3IpIHtcblx0XHR3YXJuKCdObyBjb21wYXRpYmxlIHN3aXBlIGxpYnJhcnkgZGV0ZWN0ZWQ7IG9uZSBtdXN0IGJlIGluY2x1ZGVkIGJlZm9yZSBmZWF0aGVybGlnaHRHYWxsZXJ5IGZvciBzd2lwZSBtb3Rpb25zIHRvIG5hdmlnYXRlIHRoZSBnYWxsZXJpZXMuJyk7XG5cdH1cblxuXHR2YXIgY2FsbGJhY2tDaGFpbiA9IHtcblx0XHRcdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKF9zdXBlciwgZXZlbnQpIHtcblx0XHRcdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRcdFx0c2VsZi4kaW5zdGFuY2Uub2ZmKCduZXh0Licrc2VsZi5uYW1lc3BhY2UrJyBwcmV2aW91cy4nK3NlbGYubmFtZXNwYWNlKTtcblx0XHRcdFx0XHRpZiAoc2VsZi5fc3dpcGVyKSB7XG5cdFx0XHRcdFx0XHRzZWxmLl9zd2lwZXJcblx0XHRcdFx0XHRcdFx0Lm9mZignc3dpcGVsZWZ0Jywgc2VsZi5fc3dpcGVsZWZ0KSAvKiBTZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNzM2NzE5OC9oYW1tZXItanMtY2FudC1yZW1vdmUtZXZlbnQtbGlzdGVuZXIgKi9cblx0XHRcdFx0XHRcdFx0Lm9mZignc3dpcGVyaWdodCcsIHNlbGYuX3N3aXBlcmlnaHQpO1xuXHRcdFx0XHRcdFx0c2VsZi5fc3dpcGVyID0gbnVsbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIF9zdXBlcihldmVudCk7XG5cdFx0XHR9LFxuXHRcdFx0YmVmb3JlT3BlbjogZnVuY3Rpb24oX3N1cGVyLCBldmVudCl7XG5cdFx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHRcdFx0c2VsZi4kaW5zdGFuY2Uub24oJ25leHQuJytzZWxmLm5hbWVzcGFjZSsnIHByZXZpb3VzLicrc2VsZi5uYW1lc3BhY2UsIGZ1bmN0aW9uKGV2ZW50KXtcblx0XHRcdFx0XHRcdHZhciBvZmZzZXQgPSBldmVudC50eXBlID09PSAnbmV4dCcgPyArMSA6IC0xO1xuXHRcdFx0XHRcdFx0c2VsZi5uYXZpZ2F0ZVRvKHNlbGYuY3VycmVudE5hdmlnYXRpb24oKSArIG9mZnNldCk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRpZiAoc3dpcGVBd2FyZUNvbnN0cnVjdG9yKSB7XG5cdFx0XHRcdFx0XHRzZWxmLl9zd2lwZXIgPSBzd2lwZUF3YXJlQ29uc3RydWN0b3Ioc2VsZi4kaW5zdGFuY2UpXG5cdFx0XHRcdFx0XHRcdC5vbignc3dpcGVsZWZ0Jywgc2VsZi5fc3dpcGVsZWZ0ID0gZnVuY3Rpb24oKSAgeyBzZWxmLiRpbnN0YW5jZS50cmlnZ2VyKCduZXh0Jyk7IH0pXG5cdFx0XHRcdFx0XHRcdC5vbignc3dpcGVyaWdodCcsIHNlbGYuX3N3aXBlcmlnaHQgPSBmdW5jdGlvbigpIHsgc2VsZi4kaW5zdGFuY2UudHJpZ2dlcigncHJldmlvdXMnKTsgfSk7XG5cblx0XHRcdFx0XHRcdHNlbGYuJGluc3RhbmNlXG5cdFx0XHRcdFx0XHRcdC5hZGRDbGFzcyh0aGlzLm5hbWVzcGFjZSsnLXN3aXBlLWF3YXJlJywgc3dpcGVBd2FyZUNvbnN0cnVjdG9yKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRzZWxmLiRpbnN0YW5jZS5maW5kKCcuJytzZWxmLm5hbWVzcGFjZSsnLWNvbnRlbnQnKVxuXHRcdFx0XHRcdFx0LmFwcGVuZChzZWxmLmNyZWF0ZU5hdmlnYXRpb24oJ3ByZXZpb3VzJykpXG5cdFx0XHRcdFx0XHQuYXBwZW5kKHNlbGYuY3JlYXRlTmF2aWdhdGlvbignbmV4dCcpKTtcblxuXHRcdFx0XHRcdHJldHVybiBfc3VwZXIoZXZlbnQpO1xuXHRcdFx0fSxcblx0XHRcdGJlZm9yZUNvbnRlbnQ6IGZ1bmN0aW9uKF9zdXBlciwgZXZlbnQpIHtcblx0XHRcdFx0dmFyIGluZGV4ID0gdGhpcy5jdXJyZW50TmF2aWdhdGlvbigpO1xuXHRcdFx0XHR2YXIgbGVuID0gdGhpcy5zbGlkZXMoKS5sZW5ndGg7XG5cdFx0XHRcdHRoaXMuJGluc3RhbmNlXG5cdFx0XHRcdFx0LnRvZ2dsZUNsYXNzKHRoaXMubmFtZXNwYWNlKyctZmlyc3Qtc2xpZGUnLCBpbmRleCA9PT0gMClcblx0XHRcdFx0XHQudG9nZ2xlQ2xhc3ModGhpcy5uYW1lc3BhY2UrJy1sYXN0LXNsaWRlJywgaW5kZXggPT09IGxlbiAtIDEpO1xuXHRcdFx0XHRyZXR1cm4gX3N1cGVyKGV2ZW50KTtcblx0XHRcdH0sXG5cdFx0XHRvbktleVVwOiBmdW5jdGlvbihfc3VwZXIsIGV2ZW50KXtcblx0XHRcdFx0dmFyIGRpciA9IHtcblx0XHRcdFx0XHQzNzogJ3ByZXZpb3VzJywgLyogTGVmdCBhcnJvdyAqL1xuXHRcdFx0XHRcdDM5OiAnbmV4dCdcdFx0XHQvKiBSaWd0aCBhcnJvdyAqL1xuXHRcdFx0XHR9W2V2ZW50LmtleUNvZGVdO1xuXHRcdFx0XHRpZihkaXIpIHtcblx0XHRcdFx0XHR0aGlzLiRpbnN0YW5jZS50cmlnZ2VyKGRpcik7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiBfc3VwZXIoZXZlbnQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRmdW5jdGlvbiBGZWF0aGVybGlnaHRHYWxsZXJ5KCRzb3VyY2UsIGNvbmZpZykge1xuXHRcdGlmKHRoaXMgaW5zdGFuY2VvZiBGZWF0aGVybGlnaHRHYWxsZXJ5KSB7ICAvKiBjYWxsZWQgd2l0aCBuZXcgKi9cblx0XHRcdCQuZmVhdGhlcmxpZ2h0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHR0aGlzLmNoYWluQ2FsbGJhY2tzKGNhbGxiYWNrQ2hhaW4pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgZmxnID0gbmV3IEZlYXRoZXJsaWdodEdhbGxlcnkoJC5leHRlbmQoeyRzb3VyY2U6ICRzb3VyY2UsICRjdXJyZW50VGFyZ2V0OiAkc291cmNlLmZpcnN0KCl9LCBjb25maWcpKTtcblx0XHRcdGZsZy5vcGVuKCk7XG5cdFx0XHRyZXR1cm4gZmxnO1xuXHRcdH1cblx0fVxuXG5cdCQuZmVhdGhlcmxpZ2h0LmV4dGVuZChGZWF0aGVybGlnaHRHYWxsZXJ5LCB7XG5cdFx0YXV0b0JpbmQ6ICdbZGF0YS1mZWF0aGVybGlnaHQtZ2FsbGVyeV0nXG5cdH0pO1xuXG5cdCQuZXh0ZW5kKEZlYXRoZXJsaWdodEdhbGxlcnkucHJvdG90eXBlLCB7XG5cdFx0LyoqIEFkZGl0aW9uYWwgc2V0dGluZ3MgZm9yIEdhbGxlcnkgKiovXG5cdFx0cHJldmlvdXNJY29uOiAnJiM5NjY0OycsICAgICAvKiBDb2RlIHRoYXQgaXMgdXNlZCBhcyBwcmV2aW91cyBpY29uICovXG5cdFx0bmV4dEljb246ICcmIzk2NTQ7JywgICAgICAgICAvKiBDb2RlIHRoYXQgaXMgdXNlZCBhcyBuZXh0IGljb24gKi9cblx0XHRnYWxsZXJ5RmFkZUluOiAxMDAsICAgICAgICAgIC8qIGZhZGVJbiBzcGVlZCB3aGVuIGltYWdlIGlzIGxvYWRlZCAqL1xuXHRcdGdhbGxlcnlGYWRlT3V0OiAzMDAsICAgICAgICAgLyogZmFkZU91dCBzcGVlZCBiZWZvcmUgaW1hZ2UgaXMgbG9hZGVkICovXG5cblx0XHRzbGlkZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKHRoaXMuZmlsdGVyKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLiRzb3VyY2UuZmluZCh0aGlzLmZpbHRlcik7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcy4kc291cmNlO1xuXHRcdH0sXG5cblx0XHRpbWFnZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0d2FybignaW1hZ2VzIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2Ugc2xpZGVzIGluc3RlYWQnKTtcblx0XHRcdHJldHVybiB0aGlzLnNsaWRlcygpO1xuXHRcdH0sXG5cblx0XHRjdXJyZW50TmF2aWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zbGlkZXMoKS5pbmRleCh0aGlzLiRjdXJyZW50VGFyZ2V0KTtcblx0XHR9LFxuXG5cdFx0bmF2aWdhdGVUbzogZnVuY3Rpb24oaW5kZXgpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0c291cmNlID0gc2VsZi5zbGlkZXMoKSxcblx0XHRcdFx0bGVuID0gc291cmNlLmxlbmd0aCxcblx0XHRcdFx0JGlubmVyID0gc2VsZi4kaW5zdGFuY2UuZmluZCgnLicgKyBzZWxmLm5hbWVzcGFjZSArICctaW5uZXInKTtcblx0XHRcdGluZGV4ID0gKChpbmRleCAlIGxlbikgKyBsZW4pICUgbGVuOyAvKiBwaW4gaW5kZXggdG8gWzAsIGxlblsgKi9cblxuXHRcdFx0c2VsZi4kY3VycmVudFRhcmdldCA9IHNvdXJjZS5lcShpbmRleCk7XG5cdFx0XHRzZWxmLmJlZm9yZUNvbnRlbnQoKTtcblx0XHRcdHJldHVybiAkLndoZW4oXG5cdFx0XHRcdHNlbGYuZ2V0Q29udGVudCgpLFxuXHRcdFx0XHQkaW5uZXIuZmFkZVRvKHNlbGYuZ2FsbGVyeUZhZGVPdXQsMC4yKVxuXHRcdFx0KS5hbHdheXMoZnVuY3Rpb24oJG5ld0NvbnRlbnQpIHtcblx0XHRcdFx0XHRzZWxmLnNldENvbnRlbnQoJG5ld0NvbnRlbnQpO1xuXHRcdFx0XHRcdHNlbGYuYWZ0ZXJDb250ZW50KCk7XG5cdFx0XHRcdFx0JG5ld0NvbnRlbnQuZmFkZVRvKHNlbGYuZ2FsbGVyeUZhZGVJbiwxKTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRjcmVhdGVOYXZpZ2F0aW9uOiBmdW5jdGlvbih0YXJnZXQpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHJldHVybiAkKCc8c3BhbiB0aXRsZT1cIicrdGFyZ2V0KydcIiBjbGFzcz1cIicrdGhpcy5uYW1lc3BhY2UrJy0nK3RhcmdldCsnXCI+PHNwYW4+Jyt0aGlzW3RhcmdldCsnSWNvbiddKyc8L3NwYW4+PC9zcGFuPicpLmNsaWNrKGZ1bmN0aW9uKGV2dCl7XG5cdFx0XHRcdCQodGhpcykudHJpZ2dlcih0YXJnZXQrJy4nK3NlbGYubmFtZXNwYWNlKTtcblx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xuXG5cdCQuZmVhdGhlcmxpZ2h0R2FsbGVyeSA9IEZlYXRoZXJsaWdodEdhbGxlcnk7XG5cblx0LyogZXh0ZW5kIGpRdWVyeSB3aXRoIHNlbGVjdG9yIGZlYXRoZXJsaWdodCBtZXRob2QgJChlbG0pLmZlYXRoZXJsaWdodChjb25maWcsIGVsbSk7ICovXG5cdCQuZm4uZmVhdGhlcmxpZ2h0R2FsbGVyeSA9IGZ1bmN0aW9uKGNvbmZpZykge1xuXHRcdEZlYXRoZXJsaWdodEdhbGxlcnkuYXR0YWNoKHRoaXMsIGNvbmZpZyk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyogYmluZCBmZWF0aGVybGlnaHQgb24gcmVhZHkgaWYgY29uZmlnIGF1dG9CaW5kIGlzIHNldCAqL1xuXHQkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpeyBGZWF0aGVybGlnaHRHYWxsZXJ5Ll9vblJlYWR5KCk7IH0pO1xuXG59KGpRdWVyeSkpO1xuIl19
