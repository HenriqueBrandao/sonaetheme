"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(u){if(void 0!==u)if(u.fn.jquery.match(/-ajax/))"console"in window&&window.console.info("Featherlight needs regular jQuery, not the slim version.");else{var r=[],i=function(t){return r=u.grep(r,function(e){return e!==t&&0<e.$instance.closest("body").length})},o={allow:1,allowfullscreen:1,frameborder:1,height:1,longdesc:1,marginheight:1,marginwidth:1,mozallowfullscreen:1,name:1,referrerpolicy:1,sandbox:1,scrolling:1,src:1,srcdoc:1,style:1,webkitallowfullscreen:1,width:1},n={keyup:"onKeyUp",resize:"onResize"},a=function(e){u.each(c.opened().reverse(),function(){if(!e.isDefaultPrevented()&&!1===this[n[e.type]](e))return e.preventDefault(),e.stopPropagation(),!1})},s=function(e){if(e!==c._globalHandlerInstalled){c._globalHandlerInstalled=e;var t=u.map(n,function(e,t){return t+"."+c.prototype.namespace}).join(" ");u(window)[e?"on":"off"](t,a)}};c.prototype={constructor:c,namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:!0,closeIcon:"&#10005;",loading:"",persist:!1,otherClose:null,beforeOpen:u.noop,beforeContent:u.noop,beforeClose:u.noop,afterOpen:u.noop,afterContent:u.noop,afterClose:u.noop,onKeyUp:u.noop,onResize:u.noop,type:null,contentFilters:["jquery","image","html","ajax","iframe","text"],setup:function(e,t){"object"!==_typeof(e)||e instanceof u!=!1||t||(t=e,e=void 0);var n=u.extend(this,t,{target:e}),r=n.resetCss?n.namespace+"-reset":n.namespace,i=u(n.background||['<div class="'+r+"-loading "+r+'">','<div class="'+r+'-content">','<button class="'+r+"-close-icon "+n.namespace+'-close" aria-label="Close">',n.closeIcon,"</button>",'<div class="'+n.namespace+'-inner">'+n.loading+"</div>","</div>","</div>"].join("")),o="."+n.namespace+"-close"+(n.otherClose?","+n.otherClose:"");return n.$instance=i.clone().addClass(n.variant),n.$instance.on(n.closeTrigger+"."+n.namespace,function(e){if(!e.isDefaultPrevented()){var t=u(e.target);("background"===n.closeOnClick&&t.is("."+n.namespace)||"anywhere"===n.closeOnClick||t.closest(o).length)&&(n.close(e),e.preventDefault())}}),this},getContent:function(){if(!1!==this.persist&&this.$content)return this.$content;var t=this,e=this.constructor.contentFilters,n=function(e){return t.$currentTarget&&t.$currentTarget.attr(e)},r=n(t.targetAttr),i=t.target||r||"",o=e[t.type];if(!o&&i in e&&(o=e[i],i=t.target&&r),i=i||n("href")||"",!o)for(var a in e)t[a]&&(o=e[a],i=t[a]);if(!o){var s=i;if(i=null,u.each(t.contentFilters,function(){return(o=e[this]).test&&(i=o.test(s)),!i&&o.regex&&s.match&&s.match(o.regex)&&(i=s),!i}),!i)return"console"in window&&window.console.error("Featherlight: no content filter found "+(s?' for "'+s+'"':" (no target specified)")),!1}return o.process.call(t,i)},setContent:function(e){return this.$instance.removeClass(this.namespace+"-loading"),this.$instance.toggleClass(this.namespace+"-iframe",e.is("iframe")),this.$instance.find("."+this.namespace+"-inner").not(e).slice(1).remove().end().replaceWith(u.contains(this.$instance[0],e[0])?"":e),this.$content=e.addClass(this.namespace+"-inner"),this},open:function(t){var n=this;if(n.$instance.hide().appendTo(n.root),!(t&&t.isDefaultPrevented()||!1===n.beforeOpen(t))){t&&t.preventDefault();var e=n.getContent();if(e)return r.push(n),s(!0),n.$instance.fadeIn(n.openSpeed),n.beforeContent(t),u.when(e).always(function(e){n.setContent(e),n.afterContent(t)}).then(n.$instance.promise()).done(function(){n.afterOpen(t)})}return n.$instance.detach(),u.Deferred().reject().promise()},close:function(e){var t=this,n=u.Deferred();return!1===t.beforeClose(e)?n.reject():(0===i(t).length&&s(!1),t.$instance.fadeOut(t.closeSpeed,function(){t.$instance.detach(),t.afterClose(e),n.resolve()})),n.promise()},resize:function(e,t){if(e&&t){this.$content.css("width","").css("height","");var n=Math.max(e/(this.$content.parent().width()-1),t/(this.$content.parent().height()-1));1<n&&(n=t/Math.floor(t/n),this.$content.css("width",e/n+"px").css("height",t/n+"px"))}},chainCallbacks:function(e){for(var t in e)this[t]=u.proxy(e[t],this,u.proxy(this[t],this))}},u.extend(c,{id:0,autoBind:"[data-featherlight]",defaults:c.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(e){return e instanceof u&&e},process:function(e){return!1!==this.persist?u(e):u(e).clone(!0)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff?|bmp|svg)(\?\S*)?$/i,process:function(e){var t=u.Deferred(),n=new Image,r=u('<img src="'+e+'" alt="" class="'+this.namespace+'-image" />');return n.onload=function(){r.naturalWidth=n.width,r.naturalHeight=n.height,t.resolve(r)},n.onerror=function(){t.reject(r)},n.src=e,t.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(e){return u(e)}},ajax:{regex:/./,process:function(e){var n=u.Deferred(),r=u("<div></div>").load(e,function(e,t){"error"!==t&&n.resolve(r.contents()),n.fail()});return n.promise()}},iframe:{process:function(e){var t=new u.Deferred,n=u("<iframe/>"),r=function(e,t){var n={},r=new RegExp("^"+t+"([A-Z])(.*)");for(var i in e){var o=i.match(r);o&&(n[(o[1]+o[2].replace(/([A-Z])/g,"-$1")).toLowerCase()]=e[i])}return n}(this,"iframe"),i=function(e,t){var n={};for(var r in e)r in t&&(n[r]=e[r],delete e[r]);return n}(r,o);return n.hide().attr("src",e).attr(i).css(r).on("load",function(){t.resolve(n.show())}).appendTo(this.$instance.find("."+this.namespace+"-content")),t.promise()}},text:{process:function(e){return u("<div>",{text:e})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(e,t){var r=this,i=new RegExp("^data-"+t+"-(.*)"),o={};return e&&e.attributes&&u.each(e.attributes,function(){var e=this.name.match(i);if(e){var t=this.value,n=u.camelCase(e[1]);if(0<=u.inArray(n,r.functionAttributes))t=new Function(t);else try{t=JSON.parse(t)}catch(e){}o[n]=t}}),o},extend:function(e,t){var n=function(){this.constructor=e};return n.prototype=this.prototype,e.prototype=new n,e.__super__=this.prototype,u.extend(e,this,t),e.defaults=e.prototype,e},attach:function(i,o,a){var s=this;"object"!==_typeof(o)||o instanceof u!=!1||a||(a=o,o=void 0);var c,e=(a=u.extend({},a)).namespace||s.defaults.namespace,l=u.extend({},s.defaults,s.readElementConfig(i[0],e),a),t=function(e){var t=u(e.currentTarget),n=u.extend({$source:i,$currentTarget:t},s.readElementConfig(i[0],l.namespace),s.readElementConfig(e.currentTarget,l.namespace),a),r=c||t.data("featherlight-persisted")||new s(o,n);"shared"===r.persist?c=r:!1!==r.persist&&t.data("featherlight-persisted",r),n.$currentTarget.blur&&n.$currentTarget.blur(),r.open(e)};return i.on(l.openTrigger+"."+l.namespace,l.filter,t),{filter:l.filter,handler:t}},current:function(){var e=this.opened();return e[e.length-1]||null},opened:function(){var t=this;return i(),u.grep(r,function(e){return e instanceof t})},close:function(e){var t=this.current();if(t)return t.close(e)},_onReady:function(){var r=this;if(r.autoBind){var i=u(r.autoBind);i.each(function(){r.attach(u(this))}),u(document).on("click",r.autoBind,function(e){if(!e.isDefaultPrevented()){var t=u(e.currentTarget);if(i.length!==(i=i.add(t)).length){var n=r.attach(t);(!n.filter||0<u(e.target).parentsUntil(t,n.filter).length)&&n.handler(e)}}})}},_callbackChain:{onKeyUp:function(e,t){return 27===t.keyCode?(this.closeOnEsc&&u.featherlight.close(t),!1):e(t)},beforeOpen:function(e,t){return u(document.documentElement).addClass("with-featherlight"),this._previouslyActive=document.activeElement,this._$previouslyTabbable=u("a, input, select, textarea, iframe, button, iframe, [contentEditable=true]").not("[tabindex]").not(this.$instance.find("button")),this._$previouslyWithTabIndex=u("[tabindex]").not('[tabindex="-1"]'),this._previousWithTabIndices=this._$previouslyWithTabIndex.map(function(e,t){return u(t).attr("tabindex")}),this._$previouslyWithTabIndex.add(this._$previouslyTabbable).attr("tabindex",-1),document.activeElement.blur&&document.activeElement.blur(),e(t)},afterClose:function(e,t){var n=e(t),r=this;return this._$previouslyTabbable.removeAttr("tabindex"),this._$previouslyWithTabIndex.each(function(e,t){u(t).attr("tabindex",r._previousWithTabIndices[e])}),this._previouslyActive.focus(),0===c.opened().length&&u(document.documentElement).removeClass("with-featherlight"),n},onResize:function(e,t){return this.resize(this.$content.naturalWidth,this.$content.naturalHeight),e(t)},afterContent:function(e,t){var n=e(t);return this.$instance.find("[autofocus]:not([disabled])").focus(),this.onResize(t),n}}}),u.featherlight=c,u.fn.featherlight=function(e,t){return c.attach(this,e,t),this},u(document).ready(function(){c._onReady()})}else"console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery.");function c(e,t){if(!(this instanceof c)){var n=new c(e,t);return n.open(),n}this.id=c.id++,this.setup(e,t),this.chainCallbacks(c._callbackChain)}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZlYXRoZXJsaWdodC5qcyJdLCJuYW1lcyI6WyIkIiwiZm4iLCJqcXVlcnkiLCJtYXRjaCIsIndpbmRvdyIsImNvbnNvbGUiLCJpbmZvIiwib3BlbmVkIiwicHJ1bmVPcGVuZWQiLCJyZW1vdmUiLCJncmVwIiwiZmwiLCIkaW5zdGFuY2UiLCJjbG9zZXN0IiwibGVuZ3RoIiwiaUZyYW1lQXR0cmlidXRlU2V0IiwiYWxsb3ciLCJhbGxvd2Z1bGxzY3JlZW4iLCJmcmFtZWJvcmRlciIsImhlaWdodCIsImxvbmdkZXNjIiwibWFyZ2luaGVpZ2h0IiwibWFyZ2lud2lkdGgiLCJtb3phbGxvd2Z1bGxzY3JlZW4iLCJuYW1lIiwicmVmZXJyZXJwb2xpY3kiLCJzYW5kYm94Iiwic2Nyb2xsaW5nIiwic3JjIiwic3JjZG9jIiwic3R5bGUiLCJ3ZWJraXRhbGxvd2Z1bGxzY3JlZW4iLCJ3aWR0aCIsImV2ZW50TWFwIiwia2V5dXAiLCJyZXNpemUiLCJnbG9iYWxFdmVudEhhbmRsZXIiLCJldmVudCIsImVhY2giLCJGZWF0aGVybGlnaHQiLCJyZXZlcnNlIiwiaXNEZWZhdWx0UHJldmVudGVkIiwidGhpcyIsInR5cGUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInRvZ2dsZUdsb2JhbEV2ZW50cyIsInNldCIsIl9nbG9iYWxIYW5kbGVySW5zdGFsbGVkIiwiZXZlbnRzIiwibWFwIiwiXyIsInByb3RvdHlwZSIsIm5hbWVzcGFjZSIsImpvaW4iLCJjb25zdHJ1Y3RvciIsInRhcmdldEF0dHIiLCJ2YXJpYW50IiwicmVzZXRDc3MiLCJiYWNrZ3JvdW5kIiwib3BlblRyaWdnZXIiLCJjbG9zZVRyaWdnZXIiLCJmaWx0ZXIiLCJyb290Iiwib3BlblNwZWVkIiwiY2xvc2VTcGVlZCIsImNsb3NlT25DbGljayIsImNsb3NlT25Fc2MiLCJjbG9zZUljb24iLCJsb2FkaW5nIiwicGVyc2lzdCIsIm90aGVyQ2xvc2UiLCJiZWZvcmVPcGVuIiwibm9vcCIsImJlZm9yZUNvbnRlbnQiLCJiZWZvcmVDbG9zZSIsImFmdGVyT3BlbiIsImFmdGVyQ29udGVudCIsImFmdGVyQ2xvc2UiLCJvbktleVVwIiwib25SZXNpemUiLCJjb250ZW50RmlsdGVycyIsInNldHVwIiwidGFyZ2V0IiwiY29uZmlnIiwiX3R5cGVvZiIsInVuZGVmaW5lZCIsInNlbGYiLCJleHRlbmQiLCJjc3MiLCIkYmFja2dyb3VuZCIsImNsb3NlQnV0dG9uU2VsZWN0b3IiLCJjbG9uZSIsImFkZENsYXNzIiwib24iLCIkdGFyZ2V0IiwiaXMiLCJjbG9zZSIsImdldENvbnRlbnQiLCIkY29udGVudCIsImZpbHRlcnMiLCJyZWFkVGFyZ2V0QXR0ciIsIiRjdXJyZW50VGFyZ2V0IiwiYXR0ciIsInRhcmdldFZhbHVlIiwiZGF0YSIsImZpbHRlck5hbWUiLCJ0ZXN0IiwicmVnZXgiLCJlcnJvciIsInByb2Nlc3MiLCJjYWxsIiwic2V0Q29udGVudCIsInJlbW92ZUNsYXNzIiwidG9nZ2xlQ2xhc3MiLCJmaW5kIiwibm90Iiwic2xpY2UiLCJlbmQiLCJyZXBsYWNlV2l0aCIsImNvbnRhaW5zIiwib3BlbiIsImhpZGUiLCJhcHBlbmRUbyIsInB1c2giLCJmYWRlSW4iLCJ3aGVuIiwiYWx3YXlzIiwidGhlbiIsInByb21pc2UiLCJkb25lIiwiZGV0YWNoIiwiRGVmZXJyZWQiLCJyZWplY3QiLCJkZWZlcnJlZCIsImZhZGVPdXQiLCJyZXNvbHZlIiwidyIsImgiLCJyYXRpbyIsIk1hdGgiLCJtYXgiLCJwYXJlbnQiLCJmbG9vciIsImNoYWluQ2FsbGJhY2tzIiwiY2hhaW4iLCJwcm94eSIsImlkIiwiYXV0b0JpbmQiLCJkZWZhdWx0cyIsImVsZW0iLCJpbWFnZSIsInVybCIsImltZyIsIkltYWdlIiwiJGltZyIsIm9ubG9hZCIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJvbmVycm9yIiwiaHRtbCIsImFqYXgiLCIkY29udGFpbmVyIiwibG9hZCIsInJlc3BvbnNlIiwic3RhdHVzIiwiY29udGVudHMiLCJmYWlsIiwiaWZyYW1lIiwib2JqIiwicHJlZml4IiwiYXR0cnMiLCJSZWdFeHAiLCJrZXkiLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJwYXJzZUF0dHJzIiwiciIsInNob3ciLCJ0ZXh0IiwiZnVuY3Rpb25BdHRyaWJ1dGVzIiwicmVhZEVsZW1lbnRDb25maWciLCJlbGVtZW50IiwiS2xhc3MiLCJyZWdleHAiLCJhdHRyaWJ1dGVzIiwidmFsIiwidmFsdWUiLCJjYW1lbENhc2UiLCJpbkFycmF5IiwiRnVuY3Rpb24iLCJKU09OIiwicGFyc2UiLCJlIiwiY2hpbGQiLCJDdG9yIiwiX19zdXBlcl9fIiwiYXR0YWNoIiwiJHNvdXJjZSIsInNoYXJlZFBlcnNpc3QiLCJ0ZW1wQ29uZmlnIiwiaGFuZGxlciIsImN1cnJlbnRUYXJnZXQiLCJlbGVtQ29uZmlnIiwiYmx1ciIsImN1cnJlbnQiLCJhbGwiLCJrbGFzcyIsImN1ciIsIl9vblJlYWR5IiwiJGF1dG9ib3VuZCIsImRvY3VtZW50IiwiZXZ0IiwiJGN1ciIsImFkZCIsInBhcmVudHNVbnRpbCIsIl9jYWxsYmFja0NoYWluIiwiX3N1cGVyIiwia2V5Q29kZSIsImZlYXRoZXJsaWdodCIsImRvY3VtZW50RWxlbWVudCIsIl9wcmV2aW91c2x5QWN0aXZlIiwiYWN0aXZlRWxlbWVudCIsIl8kcHJldmlvdXNseVRhYmJhYmxlIiwiXyRwcmV2aW91c2x5V2l0aFRhYkluZGV4IiwiX3ByZXZpb3VzV2l0aFRhYkluZGljZXMiLCJfaSIsInJlbW92ZUF0dHIiLCJpIiwiZm9jdXMiLCJyZWFkeSIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IitQQU9DLFNBQVNBLEdBR1QsUUFBRyxJQUF1QkEsRUFJMUIsR0FBR0EsRUFBRUMsR0FBR0MsT0FBT0MsTUFBTSxTQUNqQixZQUFhQyxRQUFTQSxPQUFPQyxRQUFRQyxLQUFLLGdFQUQ5QyxDQXFDQSxJQUFJQyxFQUFTLEdBQ1pDLEVBQWMsU0FBU0MsR0FJdEIsT0FIQUYsRUFBU1AsRUFBRVUsS0FBS0gsRUFBUSxTQUFT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M0MsR0FDUDRJLE1BS1ZqTCxFQUFFMk4sYUFBZXBMLEVBR2pCdkMsRUFBRUMsR0FBRzBOLGFBQWUsU0FBU3hILEVBQVVmLEdBRXRDLE9BREE3QyxFQUFhOEosT0FBTzNKLEtBQU15RCxFQUFVZixHQUM3QjFDLE1BSVIxQyxFQUFFbU4sVUFBVW1CLE1BQU0sV0FBWS9MLEVBQWEwSyxpQkFwbkJ2QyxZQUFhN00sUUFBU0EsT0FBT0MsUUFBUUMsS0FBSyxrREE0QjlDLFNBQVNpQyxFQUFhNEQsRUFBVWYsR0FDL0IsS0FBRzFDLGdCQUFnQkgsR0FJWixDQUNOLElBQUk1QixFQUFLLElBQUk0QixFQUFhNEQsRUFBVWYsR0FFcEMsT0FEQXpFLEVBQUc4RyxPQUNJOUcsRUFOUCtCLEtBQUt5RyxHQUFLNUcsRUFBYTRHLEtBQ3ZCekcsS0FBS3dDLE1BQU1pQixFQUFVZixHQUNyQjFDLEtBQUtzRyxlQUFlekcsRUFBYWlMLGlCQXBDbkMsQ0F5bkJDZSIsImZpbGUiOiJmZWF0aGVybGlnaHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGZWF0aGVybGlnaHQgLSB1bHRyYSBzbGltIGpRdWVyeSBsaWdodGJveFxuICogVmVyc2lvbiAxLjcuMTMgLSBodHRwOi8vbm9lbGJvc3MuZ2l0aHViLmlvL2ZlYXRoZXJsaWdodC9cbiAqXG4gKiBDb3B5cmlnaHQgMjAxOCwgTm/Dq2wgUmFvdWwgQm9zc2FydCAoaHR0cDovL3d3dy5ub2VsYm9zcy5jb20pXG4gKiBNSVQgTGljZW5zZWQuXG4qKi9cbihmdW5jdGlvbigkKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGlmKCd1bmRlZmluZWQnID09PSB0eXBlb2YgJCkge1xuXHRcdGlmKCdjb25zb2xlJyBpbiB3aW5kb3cpeyB3aW5kb3cuY29uc29sZS5pbmZvKCdUb28gbXVjaCBsaWdodG5lc3MsIEZlYXRoZXJsaWdodCBuZWVkcyBqUXVlcnkuJyk7IH1cblx0XHRyZXR1cm47XG5cdH1cblx0aWYoJC5mbi5qcXVlcnkubWF0Y2goLy1hamF4LykpIHtcblx0XHRpZignY29uc29sZScgaW4gd2luZG93KXsgd2luZG93LmNvbnNvbGUuaW5mbygnRmVhdGhlcmxpZ2h0IG5lZWRzIHJlZ3VsYXIgalF1ZXJ5LCBub3QgdGhlIHNsaW0gdmVyc2lvbi4nKTsgfVxuXHRcdHJldHVybjtcblx0fVxuXHQvKiBGZWF0aGVybGlnaHQgaXMgZXhwb3J0ZWQgYXMgJC5mZWF0aGVybGlnaHQuXG5cdCAgIEl0IGlzIGEgZnVuY3Rpb24gdXNlZCB0byBvcGVuIGEgZmVhdGhlcmxpZ2h0IGxpZ2h0Ym94LlxuXG5cdCAgIFt0ZWNoXVxuXHQgICBGZWF0aGVybGlnaHQgdXNlcyBwcm90b3R5cGUgaW5oZXJpdGFuY2UuXG5cdCAgIEVhY2ggb3BlbmVkIGxpZ2h0Ym94IHdpbGwgaGF2ZSBhIGNvcnJlc3BvbmRpbmcgb2JqZWN0LlxuXHQgICBUaGF0IG9iamVjdCBtYXkgaGF2ZSBzb21lIGF0dHJpYnV0ZXMgdGhhdCBvdmVycmlkZSB0aGVcblx0ICAgcHJvdG90eXBlJ3MuXG5cdCAgIEV4dGVuc2lvbnMgY3JlYXRlZCB3aXRoIEZlYXRoZXJsaWdodC5leHRlbmQgd2lsbCBoYXZlIHRoZWlyXG5cdCAgIG93biBwcm90b3R5cGUgdGhhdCBpbmhlcml0cyBmcm9tIEZlYXRoZXJsaWdodCdzIHByb3RvdHlwZSxcblx0ICAgdGh1cyBhdHRyaWJ1dGVzIGNhbiBiZSBvdmVycmlkZW4gZWl0aGVyIGF0IHRoZSBvYmplY3QgbGV2ZWwsXG5cdCAgIG9yIGF0IHRoZSBleHRlbnNpb24gbGV2ZWwuXG5cdCAgIFRvIGNyZWF0ZSBjYWxsYmFja3MgdGhhdCBjaGFpbiB0aGVtc2VsdmVzIGluc3RlYWQgb2Ygb3ZlcnJpZGluZyxcblx0ICAgdXNlIGNoYWluQ2FsbGJhY2tzLlxuXHQgICBGb3IgdGhvc2UgZmFtaWxpYXIgd2l0aCBDb2ZmZWVTY3JpcHQsIHRoaXMgY29ycmVzcG9uZCB0b1xuXHQgICBGZWF0aGVybGlnaHQgYmVpbmcgYSBjbGFzcyBhbmQgdGhlIEdhbGxlcnkgYmVpbmcgYSBjbGFzc1xuXHQgICBleHRlbmRpbmcgRmVhdGhlcmxpZ2h0LlxuXHQgICBUaGUgY2hhaW5DYWxsYmFja3MgaXMgdXNlZCBzaW5jZSB3ZSBkb24ndCBoYXZlIGFjY2VzcyB0b1xuXHQgICBDb2ZmZWVTY3JpcHQncyBgc3VwZXJgLlxuXHQqL1xuXG5cdGZ1bmN0aW9uIEZlYXRoZXJsaWdodCgkY29udGVudCwgY29uZmlnKSB7XG5cdFx0aWYodGhpcyBpbnN0YW5jZW9mIEZlYXRoZXJsaWdodCkgeyAgLyogY2FsbGVkIHdpdGggbmV3ICovXG5cdFx0XHR0aGlzLmlkID0gRmVhdGhlcmxpZ2h0LmlkKys7XG5cdFx0XHR0aGlzLnNldHVwKCRjb250ZW50LCBjb25maWcpO1xuXHRcdFx0dGhpcy5jaGFpbkNhbGxiYWNrcyhGZWF0aGVybGlnaHQuX2NhbGxiYWNrQ2hhaW4pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgZmwgPSBuZXcgRmVhdGhlcmxpZ2h0KCRjb250ZW50LCBjb25maWcpO1xuXHRcdFx0Zmwub3BlbigpO1xuXHRcdFx0cmV0dXJuIGZsO1xuXHRcdH1cblx0fVxuXG5cdHZhciBvcGVuZWQgPSBbXSxcblx0XHRwcnVuZU9wZW5lZCA9IGZ1bmN0aW9uKHJlbW92ZSkge1xuXHRcdFx0b3BlbmVkID0gJC5ncmVwKG9wZW5lZCwgZnVuY3Rpb24oZmwpIHtcblx0XHRcdFx0cmV0dXJuIGZsICE9PSByZW1vdmUgJiYgZmwuJGluc3RhbmNlLmNsb3Nlc3QoJ2JvZHknKS5sZW5ndGggPiAwO1xuXHRcdFx0fSApO1xuXHRcdFx0cmV0dXJuIG9wZW5lZDtcblx0XHR9O1xuXG5cdC8vIFJlbW92ZXMga2V5cyBvZiBgc2V0YCBmcm9tIGBvYmpgIGFuZCByZXR1cm5zIHRoZSByZW1vdmVkIGtleS92YWx1ZXMuXG5cdGZ1bmN0aW9uIHNsaWNlKG9iaiwgc2V0KSB7XG5cdFx0dmFyIHIgPSB7fTtcblx0XHRmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG5cdFx0XHRpZiAoa2V5IGluIHNldCkge1xuXHRcdFx0XHRyW2tleV0gPSBvYmpba2V5XTtcblx0XHRcdFx0ZGVsZXRlIG9ialtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcjtcblx0fVxuXG5cdC8vIE5PVEU6IExpc3Qgb2YgYXZhaWxhYmxlIFtpZnJhbWUgYXR0cmlidXRlc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9FbGVtZW50L2lmcmFtZSkuXG5cdHZhciBpRnJhbWVBdHRyaWJ1dGVTZXQgPSB7XG5cdFx0YWxsb3c6IDEsIGFsbG93ZnVsbHNjcmVlbjogMSwgZnJhbWVib3JkZXI6IDEsIGhlaWdodDogMSwgbG9uZ2Rlc2M6IDEsIG1hcmdpbmhlaWdodDogMSwgbWFyZ2lud2lkdGg6IDEsXG5cdFx0bW96YWxsb3dmdWxsc2NyZWVuOiAxLCBuYW1lOiAxLCByZWZlcnJlcnBvbGljeTogMSwgc2FuZGJveDogMSwgc2Nyb2xsaW5nOiAxLCBzcmM6IDEsIHNyY2RvYzogMSwgc3R5bGU6IDEsXG5cdFx0d2Via2l0YWxsb3dmdWxsc2NyZWVuOiAxLCB3aWR0aDogMVxuXHR9O1xuXG5cdC8vIENvbnZlcnRzIGNhbWVsQ2FzZWQgYXR0cmlidXRlcyB0byBkYXNoZXJpemVkIHZlcnNpb25zIGZvciBnaXZlbiBwcmVmaXg6XG5cdC8vICAgcGFyc2VBdHRycyh7aGVsbG86IDEsIGhlbGxGcm96ZU92ZXI6IDJ9LCAnaGVsbCcpID0+IHtmcm96ZS1vdmVyOiAyfVxuXHRmdW5jdGlvbiBwYXJzZUF0dHJzKG9iaiwgcHJlZml4KSB7XG5cdFx0dmFyIGF0dHJzID0ge30sXG5cdFx0XHRyZWdleCA9IG5ldyBSZWdFeHAoJ14nICsgcHJlZml4ICsgJyhbQS1aXSkoLiopJyk7XG5cdFx0Zm9yICh2YXIga2V5IGluIG9iaikge1xuXHRcdFx0dmFyIG1hdGNoID0ga2V5Lm1hdGNoKHJlZ2V4KTtcblx0XHRcdGlmIChtYXRjaCkge1xuXHRcdFx0XHR2YXIgZGFzaGVyaXplZCA9IChtYXRjaFsxXSArIG1hdGNoWzJdLnJlcGxhY2UoLyhbQS1aXSkvZywgJy0kMScpKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRhdHRyc1tkYXNoZXJpemVkXSA9IG9ialtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gYXR0cnM7XG5cdH1cblxuXHQvKiBkb2N1bWVudCB3aWRlIGtleSBoYW5kbGVyICovXG5cdHZhciBldmVudE1hcCA9IHsga2V5dXA6ICdvbktleVVwJywgcmVzaXplOiAnb25SZXNpemUnIH07XG5cblx0dmFyIGdsb2JhbEV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0JC5lYWNoKEZlYXRoZXJsaWdodC5vcGVuZWQoKS5yZXZlcnNlKCksIGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuXHRcdFx0XHRpZiAoZmFsc2UgPT09IHRoaXNbZXZlbnRNYXBbZXZlbnQudHlwZV1dKGV2ZW50KSkge1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyByZXR1cm4gZmFsc2U7XG5cdFx0XHQgIH1cblx0XHRcdH1cblx0XHR9KTtcblx0fTtcblxuXHR2YXIgdG9nZ2xlR2xvYmFsRXZlbnRzID0gZnVuY3Rpb24oc2V0KSB7XG5cdFx0XHRpZihzZXQgIT09IEZlYXRoZXJsaWdodC5fZ2xvYmFsSGFuZGxlckluc3RhbGxlZCkge1xuXHRcdFx0XHRGZWF0aGVybGlnaHQuX2dsb2JhbEhhbmRsZXJJbnN0YWxsZWQgPSBzZXQ7XG5cdFx0XHRcdHZhciBldmVudHMgPSAkLm1hcChldmVudE1hcCwgZnVuY3Rpb24oXywgbmFtZSkgeyByZXR1cm4gbmFtZSsnLicrRmVhdGhlcmxpZ2h0LnByb3RvdHlwZS5uYW1lc3BhY2U7IH0gKS5qb2luKCcgJyk7XG5cdFx0XHRcdCQod2luZG93KVtzZXQgPyAnb24nIDogJ29mZiddKGV2ZW50cywgZ2xvYmFsRXZlbnRIYW5kbGVyKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdEZlYXRoZXJsaWdodC5wcm90b3R5cGUgPSB7XG5cdFx0Y29uc3RydWN0b3I6IEZlYXRoZXJsaWdodCxcblx0XHQvKioqIGRlZmF1bHRzICoqKi9cblx0XHQvKiBleHRlbmQgZmVhdGhlcmxpZ2h0IHdpdGggZGVmYXVsdHMgYW5kIG1ldGhvZHMgKi9cblx0XHRuYW1lc3BhY2U6ICAgICAgJ2ZlYXRoZXJsaWdodCcsICAgICAgICAvKiBOYW1lIG9mIHRoZSBldmVudHMgYW5kIGNzcyBjbGFzcyBwcmVmaXggKi9cblx0XHR0YXJnZXRBdHRyOiAgICAgJ2RhdGEtZmVhdGhlcmxpZ2h0JywgICAvKiBBdHRyaWJ1dGUgb2YgdGhlIHRyaWdnZXJlZCBlbGVtZW50IHRoYXQgY29udGFpbnMgdGhlIHNlbGVjdG9yIHRvIHRoZSBsaWdodGJveCBjb250ZW50ICovXG5cdFx0dmFyaWFudDogICAgICAgIG51bGwsICAgICAgICAgICAgICAgICAgLyogQ2xhc3MgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIGNoYW5nZSBsb29rIG9mIHRoZSBsaWdodGJveCAqL1xuXHRcdHJlc2V0Q3NzOiAgICAgICBmYWxzZSwgICAgICAgICAgICAgICAgIC8qIFJlc2V0IGFsbCBjc3MgKi9cblx0XHRiYWNrZ3JvdW5kOiAgICAgbnVsbCwgICAgICAgICAgICAgICAgICAvKiBDdXN0b20gRE9NIGZvciB0aGUgYmFja2dyb3VuZCwgd3JhcHBlciBhbmQgdGhlIGNsb3NlYnV0dG9uICovXG5cdFx0b3BlblRyaWdnZXI6ICAgICdjbGljaycsICAgICAgICAgICAgICAgLyogRXZlbnQgdGhhdCB0cmlnZ2VycyB0aGUgbGlnaHRib3ggKi9cblx0XHRjbG9zZVRyaWdnZXI6ICAgJ2NsaWNrJywgICAgICAgICAgICAgICAvKiBFdmVudCB0aGF0IHRyaWdnZXJzIHRoZSBjbG9zaW5nIG9mIHRoZSBsaWdodGJveCAqL1xuXHRcdGZpbHRlcjogICAgICAgICBudWxsLCAgICAgICAgICAgICAgICAgIC8qIFNlbGVjdG9yIHRvIGZpbHRlciBldmVudHMuIFRoaW5rICQoLi4uKS5vbignY2xpY2snLCBmaWx0ZXIsIGV2ZW50SGFuZGxlcikgKi9cblx0XHRyb290OiAgICAgICAgICAgJ2JvZHknLCAgICAgICAgICAgICAgICAvKiBXaGVyZSB0byBhcHBlbmQgZmVhdGhlcmxpZ2h0cyAqL1xuXHRcdG9wZW5TcGVlZDogICAgICAyNTAsICAgICAgICAgICAgICAgICAgIC8qIER1cmF0aW9uIG9mIG9wZW5pbmcgYW5pbWF0aW9uICovXG5cdFx0Y2xvc2VTcGVlZDogICAgIDI1MCwgICAgICAgICAgICAgICAgICAgLyogRHVyYXRpb24gb2YgY2xvc2luZyBhbmltYXRpb24gKi9cblx0XHRjbG9zZU9uQ2xpY2s6ICAgJ2JhY2tncm91bmQnLCAgICAgICAgICAvKiBDbG9zZSBsaWdodGJveCBvbiBjbGljayAoJ2JhY2tncm91bmQnLCAnYW55d2hlcmUnIG9yIGZhbHNlKSAqL1xuXHRcdGNsb3NlT25Fc2M6ICAgICB0cnVlLCAgICAgICAgICAgICAgICAgIC8qIENsb3NlIGxpZ2h0Ym94IHdoZW4gcHJlc3NpbmcgZXNjICovXG5cdFx0Y2xvc2VJY29uOiAgICAgICcmIzEwMDA1OycsICAgICAgICAgICAgLyogQ2xvc2UgaWNvbiAqL1xuXHRcdGxvYWRpbmc6ICAgICAgICAnJywgICAgICAgICAgICAgICAgICAgIC8qIENvbnRlbnQgdG8gc2hvdyB3aGlsZSBpbml0aWFsIGNvbnRlbnQgaXMgbG9hZGluZyAqL1xuXHRcdHBlcnNpc3Q6ICAgICAgICBmYWxzZSwgICAgICAgICAgICAgICAgIC8qIElmIHNldCwgdGhlIGNvbnRlbnQgd2lsbCBwZXJzaXN0IGFuZCB3aWxsIGJlIHNob3duIGFnYWluIHdoZW4gb3BlbmVkIGFnYWluLiAnc2hhcmVkJyBpcyBhIHNwZWNpYWwgdmFsdWUgd2hlbiBiaW5kaW5nIG11bHRpcGxlIGVsZW1lbnRzIGZvciB0aGVtIHRvIHNoYXJlIHRoZSBzYW1lIGNvbnRlbnQgKi9cblx0XHRvdGhlckNsb3NlOiAgICAgbnVsbCwgICAgICAgICAgICAgICAgICAvKiBTZWxlY3RvciBmb3IgYWx0ZXJuYXRlIGNsb3NlIGJ1dHRvbnMgKGUuZy4gXCJhLmNsb3NlXCIpICovXG5cdFx0YmVmb3JlT3BlbjogICAgICQubm9vcCwgICAgICAgICAgICAgICAgLyogQ2FsbGVkIGJlZm9yZSBvcGVuLiBjYW4gcmV0dXJuIGZhbHNlIHRvIHByZXZlbnQgb3BlbmluZyBvZiBsaWdodGJveC4gR2V0cyBldmVudCBhcyBwYXJhbWV0ZXIsIHRoaXMgY29udGFpbnMgYWxsIGRhdGEgKi9cblx0XHRiZWZvcmVDb250ZW50OiAgJC5ub29wLCAgICAgICAgICAgICAgICAvKiBDYWxsZWQgd2hlbiBjb250ZW50IGlzIGxvYWRlZC4gR2V0cyBldmVudCBhcyBwYXJhbWV0ZXIsIHRoaXMgY29udGFpbnMgYWxsIGRhdGEgKi9cblx0XHRiZWZvcmVDbG9zZTogICAgJC5ub29wLCAgICAgICAgICAgICAgICAvKiBDYWxsZWQgYmVmb3JlIGNsb3NlLiBjYW4gcmV0dXJuIGZhbHNlIHRvIHByZXZlbnQgb3BlbmluZyBvZiBsaWdodGJveC4gR2V0cyBldmVudCBhcyBwYXJhbWV0ZXIsIHRoaXMgY29udGFpbnMgYWxsIGRhdGEgKi9cblx0XHRhZnRlck9wZW46ICAgICAgJC5ub29wLCAgICAgICAgICAgICAgICAvKiBDYWxsZWQgYWZ0ZXIgb3Blbi4gR2V0cyBldmVudCBhcyBwYXJhbWV0ZXIsIHRoaXMgY29udGFpbnMgYWxsIGRhdGEgKi9cblx0XHRhZnRlckNvbnRlbnQ6ICAgJC5ub29wLCAgICAgICAgICAgICAgICAvKiBDYWxsZWQgYWZ0ZXIgY29udGVudCBpcyByZWFkeSBhbmQgaGFzIGJlZW4gc2V0LiBHZXRzIGV2ZW50IGFzIHBhcmFtZXRlciwgdGhpcyBjb250YWlucyBhbGwgZGF0YSAqL1xuXHRcdGFmdGVyQ2xvc2U6ICAgICAkLm5vb3AsICAgICAgICAgICAgICAgIC8qIENhbGxlZCBhZnRlciBjbG9zZS4gR2V0cyBldmVudCBhcyBwYXJhbWV0ZXIsIHRoaXMgY29udGFpbnMgYWxsIGRhdGEgKi9cblx0XHRvbktleVVwOiAgICAgICAgJC5ub29wLCAgICAgICAgICAgICAgICAvKiBDYWxsZWQgb24ga2V5IHVwIGZvciB0aGUgZnJvbnRtb3N0IGZlYXRoZXJsaWdodCAqL1xuXHRcdG9uUmVzaXplOiAgICAgICAkLm5vb3AsICAgICAgICAgICAgICAgIC8qIENhbGxlZCBhZnRlciBuZXcgY29udGVudCBhbmQgd2hlbiBhIHdpbmRvdyBpcyByZXNpemVkICovXG5cdFx0dHlwZTogICAgICAgICAgIG51bGwsICAgICAgICAgICAgICAgICAgLyogU3BlY2lmeSB0eXBlIG9mIGxpZ2h0Ym94LiBJZiB1bnNldCwgaXQgd2lsbCBjaGVjayBmb3IgdGhlIHRhcmdldEF0dHJzIHZhbHVlLiAqL1xuXHRcdGNvbnRlbnRGaWx0ZXJzOiBbJ2pxdWVyeScsICdpbWFnZScsICdodG1sJywgJ2FqYXgnLCAnaWZyYW1lJywgJ3RleHQnXSwgLyogTGlzdCBvZiBjb250ZW50IGZpbHRlcnMgdG8gdXNlIHRvIGRldGVybWluZSB0aGUgY29udGVudCAqL1xuXG5cdFx0LyoqKiBtZXRob2RzICoqKi9cblx0XHQvKiBzZXR1cCBpdGVyYXRlcyBvdmVyIGEgc2luZ2xlIGluc3RhbmNlIG9mIGZlYXRoZXJsaWdodCBhbmQgcHJlcGFyZXMgdGhlIGJhY2tncm91bmQgYW5kIGJpbmRzIHRoZSBldmVudHMgKi9cblx0XHRzZXR1cDogZnVuY3Rpb24odGFyZ2V0LCBjb25maWcpe1xuXHRcdFx0LyogYWxsIGFyZ3VtZW50cyBhcmUgb3B0aW9uYWwgKi9cblx0XHRcdGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0JyAmJiB0YXJnZXQgaW5zdGFuY2VvZiAkID09PSBmYWxzZSAmJiAhY29uZmlnKSB7XG5cdFx0XHRcdGNvbmZpZyA9IHRhcmdldDtcblx0XHRcdFx0dGFyZ2V0ID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgc2VsZiA9ICQuZXh0ZW5kKHRoaXMsIGNvbmZpZywge3RhcmdldDogdGFyZ2V0fSksXG5cdFx0XHRcdGNzcyA9ICFzZWxmLnJlc2V0Q3NzID8gc2VsZi5uYW1lc3BhY2UgOiBzZWxmLm5hbWVzcGFjZSsnLXJlc2V0JywgLyogYnkgYWRkaW5nIC1yZXNldCB0byB0aGUgY2xhc3NuYW1lLCB3ZSByZXNldCBhbGwgdGhlIGRlZmF1bHQgY3NzICovXG5cdFx0XHRcdCRiYWNrZ3JvdW5kID0gJChzZWxmLmJhY2tncm91bmQgfHwgW1xuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwiJytjc3MrJy1sb2FkaW5nICcrY3NzKydcIj4nLFxuXHRcdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCInK2NzcysnLWNvbnRlbnRcIj4nLFxuXHRcdFx0XHRcdFx0XHQnPGJ1dHRvbiBjbGFzcz1cIicrY3NzKyctY2xvc2UtaWNvbiAnKyBzZWxmLm5hbWVzcGFjZSArICctY2xvc2VcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj4nLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGYuY2xvc2VJY29uLFxuXHRcdFx0XHRcdFx0XHQnPC9idXR0b24+Jyxcblx0XHRcdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCInK3NlbGYubmFtZXNwYWNlKyctaW5uZXJcIj4nICsgc2VsZi5sb2FkaW5nICsgJzwvZGl2PicsXG5cdFx0XHRcdFx0XHQnPC9kaXY+Jyxcblx0XHRcdFx0XHQnPC9kaXY+J10uam9pbignJykpLFxuXHRcdFx0XHRjbG9zZUJ1dHRvblNlbGVjdG9yID0gJy4nK3NlbGYubmFtZXNwYWNlKyctY2xvc2UnICsgKHNlbGYub3RoZXJDbG9zZSA/ICcsJyArIHNlbGYub3RoZXJDbG9zZSA6ICcnKTtcblxuXHRcdFx0c2VsZi4kaW5zdGFuY2UgPSAkYmFja2dyb3VuZC5jbG9uZSgpLmFkZENsYXNzKHNlbGYudmFyaWFudCk7IC8qIGNsb25lIERPTSBmb3IgdGhlIGJhY2tncm91bmQsIHdyYXBwZXIgYW5kIHRoZSBjbG9zZSBidXR0b24gKi9cblxuXHRcdFx0LyogY2xvc2Ugd2hlbiBjbGljayBvbiBiYWNrZ3JvdW5kL2FueXdoZXJlL251bGwgb3IgY2xvc2Vib3ggKi9cblx0XHRcdHNlbGYuJGluc3RhbmNlLm9uKHNlbGYuY2xvc2VUcmlnZ2VyKycuJytzZWxmLm5hbWVzcGFjZSwgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdFx0aWYoZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyICR0YXJnZXQgPSAkKGV2ZW50LnRhcmdldCk7XG5cdFx0XHRcdGlmKCAoJ2JhY2tncm91bmQnID09PSBzZWxmLmNsb3NlT25DbGljayAgJiYgJHRhcmdldC5pcygnLicrc2VsZi5uYW1lc3BhY2UpKVxuXHRcdFx0XHRcdHx8ICdhbnl3aGVyZScgPT09IHNlbGYuY2xvc2VPbkNsaWNrXG5cdFx0XHRcdFx0fHwgJHRhcmdldC5jbG9zZXN0KGNsb3NlQnV0dG9uU2VsZWN0b3IpLmxlbmd0aCApe1xuXHRcdFx0XHRcdHNlbGYuY2xvc2UoZXZlbnQpO1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXG5cdFx0LyogdGhpcyBtZXRob2QgcHJlcGFyZXMgdGhlIGNvbnRlbnQgYW5kIGNvbnZlcnRzIGl0IGludG8gYSBqUXVlcnkgb2JqZWN0IG9yIGEgcHJvbWlzZSAqL1xuXHRcdGdldENvbnRlbnQ6IGZ1bmN0aW9uKCl7XG5cdFx0XHRpZih0aGlzLnBlcnNpc3QgIT09IGZhbHNlICYmIHRoaXMuJGNvbnRlbnQpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuJGNvbnRlbnQ7XG5cdFx0XHR9XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdGZpbHRlcnMgPSB0aGlzLmNvbnN0cnVjdG9yLmNvbnRlbnRGaWx0ZXJzLFxuXHRcdFx0XHRyZWFkVGFyZ2V0QXR0ciA9IGZ1bmN0aW9uKG5hbWUpeyByZXR1cm4gc2VsZi4kY3VycmVudFRhcmdldCAmJiBzZWxmLiRjdXJyZW50VGFyZ2V0LmF0dHIobmFtZSk7IH0sXG5cdFx0XHRcdHRhcmdldFZhbHVlID0gcmVhZFRhcmdldEF0dHIoc2VsZi50YXJnZXRBdHRyKSxcblx0XHRcdFx0ZGF0YSA9IHNlbGYudGFyZ2V0IHx8IHRhcmdldFZhbHVlIHx8ICcnO1xuXG5cdFx0XHQvKiBGaW5kIHdoaWNoIGZpbHRlciBhcHBsaWVzICovXG5cdFx0XHR2YXIgZmlsdGVyID0gZmlsdGVyc1tzZWxmLnR5cGVdOyAvKiBjaGVjayBleHBsaWNpdCB0eXBlIGxpa2Uge3R5cGU6ICdpbWFnZSd9ICovXG5cblx0XHRcdC8qIGNoZWNrIGV4cGxpY2l0IHR5cGUgbGlrZSBkYXRhLWZlYXRoZXJsaWdodD1cImltYWdlXCIgKi9cblx0XHRcdGlmKCFmaWx0ZXIgJiYgZGF0YSBpbiBmaWx0ZXJzKSB7XG5cdFx0XHRcdGZpbHRlciA9IGZpbHRlcnNbZGF0YV07XG5cdFx0XHRcdGRhdGEgPSBzZWxmLnRhcmdldCAmJiB0YXJnZXRWYWx1ZTtcblx0XHRcdH1cblx0XHRcdGRhdGEgPSBkYXRhIHx8IHJlYWRUYXJnZXRBdHRyKCdocmVmJykgfHwgJyc7XG5cblx0XHRcdC8qIGNoZWNrIGV4cGxpY2l0eSB0eXBlICYgY29udGVudCBsaWtlIHtpbWFnZTogJ3Bob3RvLmpwZyd9ICovXG5cdFx0XHRpZighZmlsdGVyKSB7XG5cdFx0XHRcdGZvcih2YXIgZmlsdGVyTmFtZSBpbiBmaWx0ZXJzKSB7XG5cdFx0XHRcdFx0aWYoc2VsZltmaWx0ZXJOYW1lXSkge1xuXHRcdFx0XHRcdFx0ZmlsdGVyID0gZmlsdGVyc1tmaWx0ZXJOYW1lXTtcblx0XHRcdFx0XHRcdGRhdGEgPSBzZWxmW2ZpbHRlck5hbWVdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvKiBvdGhlcndpc2UgaXQncyBpbXBsaWNpdCwgcnVuIGNoZWNrcyAqL1xuXHRcdFx0aWYoIWZpbHRlcikge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gZGF0YTtcblx0XHRcdFx0ZGF0YSA9IG51bGw7XG5cdFx0XHRcdCQuZWFjaChzZWxmLmNvbnRlbnRGaWx0ZXJzLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRmaWx0ZXIgPSBmaWx0ZXJzW3RoaXNdO1xuXHRcdFx0XHRcdGlmKGZpbHRlci50ZXN0KSAge1xuXHRcdFx0XHRcdFx0ZGF0YSA9IGZpbHRlci50ZXN0KHRhcmdldCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmKCFkYXRhICYmIGZpbHRlci5yZWdleCAmJiB0YXJnZXQubWF0Y2ggJiYgdGFyZ2V0Lm1hdGNoKGZpbHRlci5yZWdleCkpIHtcblx0XHRcdFx0XHRcdGRhdGEgPSB0YXJnZXQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiAhZGF0YTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGlmKCFkYXRhKSB7XG5cdFx0XHRcdFx0aWYoJ2NvbnNvbGUnIGluIHdpbmRvdyl7IHdpbmRvdy5jb25zb2xlLmVycm9yKCdGZWF0aGVybGlnaHQ6IG5vIGNvbnRlbnQgZmlsdGVyIGZvdW5kICcgKyAodGFyZ2V0ID8gJyBmb3IgXCInICsgdGFyZ2V0ICsgJ1wiJyA6ICcgKG5vIHRhcmdldCBzcGVjaWZpZWQpJykpOyB9XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvKiBQcm9jZXNzIGl0ICovXG5cdFx0XHRyZXR1cm4gZmlsdGVyLnByb2Nlc3MuY2FsbChzZWxmLCBkYXRhKTtcblx0XHR9LFxuXG5cdFx0Lyogc2V0cyB0aGUgY29udGVudCBvZiAkaW5zdGFuY2UgdG8gJGNvbnRlbnQgKi9cblx0XHRzZXRDb250ZW50OiBmdW5jdGlvbigkY29udGVudCl7XG4gICAgICB0aGlzLiRpbnN0YW5jZS5yZW1vdmVDbGFzcyh0aGlzLm5hbWVzcGFjZSsnLWxvYWRpbmcnKTtcblxuICAgICAgLyogd2UgbmVlZCBhIHNwZWNpYWwgY2xhc3MgZm9yIHRoZSBpZnJhbWUgKi9cbiAgICAgIHRoaXMuJGluc3RhbmNlLnRvZ2dsZUNsYXNzKHRoaXMubmFtZXNwYWNlKyctaWZyYW1lJywgJGNvbnRlbnQuaXMoJ2lmcmFtZScpKTtcblxuICAgICAgLyogcmVwbGFjZSBjb250ZW50IGJ5IGFwcGVuZGluZyB0byBleGlzdGluZyBvbmUgYmVmb3JlIGl0IGlzIHJlbW92ZWRcbiAgICAgICAgIHRoaXMgaW5zdXJlcyB0aGF0IGZlYXRoZXJsaWdodC1pbm5lciByZW1haW4gYXQgdGhlIHNhbWUgcmVsYXRpdmVcbiAgICAgICAgIHBvc2l0aW9uIHRvIGFueSBvdGhlciBpdGVtcyBhZGRlZCB0byBmZWF0aGVybGlnaHQtY29udGVudCAqL1xuICAgICAgdGhpcy4kaW5zdGFuY2UuZmluZCgnLicrdGhpcy5uYW1lc3BhY2UrJy1pbm5lcicpXG4gICAgICAgIC5ub3QoJGNvbnRlbnQpICAgICAgICAgICAgICAgIC8qIGV4Y2x1ZGVkIG5ldyBjb250ZW50LCBpbXBvcnRhbnQgaWYgcGVyc2lzdGVkICovXG4gICAgICAgIC5zbGljZSgxKS5yZW1vdmUoKS5lbmQoKSAgICAgIC8qIEluIHRoZSB1bmV4cGVjdGVkIGV2ZW50IHdoZXJlIHRoZXJlIGFyZSBtYW55IGlubmVyIGVsZW1lbnRzLCByZW1vdmUgYWxsIGJ1dCB0aGUgZmlyc3Qgb25lICovXG4gICAgICAgIC5yZXBsYWNlV2l0aCgkLmNvbnRhaW5zKHRoaXMuJGluc3RhbmNlWzBdLCAkY29udGVudFswXSkgPyAnJyA6ICRjb250ZW50KTtcblxuICAgICAgdGhpcy4kY29udGVudCA9ICRjb250ZW50LmFkZENsYXNzKHRoaXMubmFtZXNwYWNlKyctaW5uZXInKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG5cdFx0fSxcblxuXHRcdC8qIG9wZW5zIHRoZSBsaWdodGJveC4gXCJ0aGlzXCIgY29udGFpbnMgJGluc3RhbmNlIHdpdGggdGhlIGxpZ2h0Ym94LCBhbmQgd2l0aCB0aGUgY29uZmlnLlxuXHRcdFx0UmV0dXJucyBhIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCBhZnRlciBpcyBzdWNjZXNzZnVsbHkgb3BlbmVkLiAqL1xuXHRcdG9wZW46IGZ1bmN0aW9uKGV2ZW50KXtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHNlbGYuJGluc3RhbmNlLmhpZGUoKS5hcHBlbmRUbyhzZWxmLnJvb3QpO1xuXHRcdFx0aWYoKCFldmVudCB8fCAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpXG5cdFx0XHRcdCYmIHNlbGYuYmVmb3JlT3BlbihldmVudCkgIT09IGZhbHNlKSB7XG5cblx0XHRcdFx0aWYoZXZlbnQpe1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyICRjb250ZW50ID0gc2VsZi5nZXRDb250ZW50KCk7XG5cblx0XHRcdFx0aWYoJGNvbnRlbnQpIHtcblx0XHRcdFx0XHRvcGVuZWQucHVzaChzZWxmKTtcblxuXHRcdFx0XHRcdHRvZ2dsZUdsb2JhbEV2ZW50cyh0cnVlKTtcblxuXHRcdFx0XHRcdHNlbGYuJGluc3RhbmNlLmZhZGVJbihzZWxmLm9wZW5TcGVlZCk7XG5cdFx0XHRcdFx0c2VsZi5iZWZvcmVDb250ZW50KGV2ZW50KTtcblxuXHRcdFx0XHRcdC8qIFNldCBjb250ZW50IGFuZCBzaG93ICovXG5cdFx0XHRcdFx0cmV0dXJuICQud2hlbigkY29udGVudClcblx0XHRcdFx0XHRcdC5hbHdheXMoZnVuY3Rpb24oJGNvbnRlbnQpe1xuXHRcdFx0XHRcdFx0XHRzZWxmLnNldENvbnRlbnQoJGNvbnRlbnQpO1xuXHRcdFx0XHRcdFx0XHRzZWxmLmFmdGVyQ29udGVudChldmVudCk7XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0LnRoZW4oc2VsZi4kaW5zdGFuY2UucHJvbWlzZSgpKVxuXHRcdFx0XHRcdFx0LyogQ2FsbCBhZnRlck9wZW4gYWZ0ZXIgZmFkZUluIGlzIGRvbmUgKi9cblx0XHRcdFx0XHRcdC5kb25lKGZ1bmN0aW9uKCl7IHNlbGYuYWZ0ZXJPcGVuKGV2ZW50KTsgfSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHNlbGYuJGluc3RhbmNlLmRldGFjaCgpO1xuXHRcdFx0cmV0dXJuICQuRGVmZXJyZWQoKS5yZWplY3QoKS5wcm9taXNlKCk7XG5cdFx0fSxcblxuXHRcdC8qIGNsb3NlcyB0aGUgbGlnaHRib3guIFwidGhpc1wiIGNvbnRhaW5zICRpbnN0YW5jZSB3aXRoIHRoZSBsaWdodGJveCwgYW5kIHdpdGggdGhlIGNvbmZpZ1xuXHRcdFx0cmV0dXJucyBhIHByb21pc2UsIHJlc29sdmVkIGFmdGVyIHRoZSBsaWdodGJveCBpcyBzdWNjZXNzZnVsbHkgY2xvc2VkLiAqL1xuXHRcdGNsb3NlOiBmdW5jdGlvbihldmVudCl7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdGRlZmVycmVkID0gJC5EZWZlcnJlZCgpO1xuXG5cdFx0XHRpZihzZWxmLmJlZm9yZUNsb3NlKGV2ZW50KSA9PT0gZmFsc2UpIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KCk7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGlmICgwID09PSBwcnVuZU9wZW5lZChzZWxmKS5sZW5ndGgpIHtcblx0XHRcdFx0XHR0b2dnbGVHbG9iYWxFdmVudHMoZmFsc2UpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c2VsZi4kaW5zdGFuY2UuZmFkZU91dChzZWxmLmNsb3NlU3BlZWQsZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRzZWxmLiRpbnN0YW5jZS5kZXRhY2goKTtcblx0XHRcdFx0XHRzZWxmLmFmdGVyQ2xvc2UoZXZlbnQpO1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpO1xuXHRcdH0sXG5cblx0XHQvKiByZXNpemVzIHRoZSBjb250ZW50IHNvIGl0IGZpdHMgaW4gdmlzaWJsZSBhcmVhIGFuZCBrZWVwcyB0aGUgc2FtZSBhc3BlY3QgcmF0aW8uXG5cdFx0XHRcdERvZXMgbm90aGluZyBpZiBlaXRoZXIgdGhlIHdpZHRoIG9yIHRoZSBoZWlnaHQgaXMgbm90IHNwZWNpZmllZC5cblx0XHRcdFx0Q2FsbGVkIGF1dG9tYXRpY2FsbHkgb24gd2luZG93IHJlc2l6ZS5cblx0XHRcdFx0T3ZlcnJpZGUgaWYgeW91IHdhbnQgZGlmZmVyZW50IGJlaGF2aW9yLiAqL1xuXHRcdHJlc2l6ZTogZnVuY3Rpb24odywgaCkge1xuXHRcdFx0aWYgKHcgJiYgaCkge1xuXHRcdFx0XHQvKiBSZXNldCBhcHBhcmVudCBpbWFnZSBzaXplIGZpcnN0IHNvIGNvbnRhaW5lciBncm93cyAqL1xuXHRcdFx0XHR0aGlzLiRjb250ZW50LmNzcygnd2lkdGgnLCAnJykuY3NzKCdoZWlnaHQnLCAnJyk7XG5cdFx0XHRcdC8qIENhbGN1bGF0ZSB0aGUgd29yc3QgcmF0aW8gc28gdGhhdCBkaW1lbnNpb25zIGZpdCAqL1xuXHRcdFx0XHQgLyogTm90ZTogLTEgdG8gYXZvaWQgcm91bmRpbmcgZXJyb3JzICovXG5cdFx0XHRcdHZhciByYXRpbyA9IE1hdGgubWF4KFxuXHRcdFx0XHRcdHcgIC8gKHRoaXMuJGNvbnRlbnQucGFyZW50KCkud2lkdGgoKS0xKSxcblx0XHRcdFx0XHRoIC8gKHRoaXMuJGNvbnRlbnQucGFyZW50KCkuaGVpZ2h0KCktMSkpO1xuXHRcdFx0XHQvKiBSZXNpemUgY29udGVudCAqL1xuXHRcdFx0XHRpZiAocmF0aW8gPiAxKSB7XG5cdFx0XHRcdFx0cmF0aW8gPSBoIC8gTWF0aC5mbG9vcihoIC8gcmF0aW8pOyAvKiBSb3VuZCByYXRpbyBkb3duIHNvIGhlaWdodCBjYWxjIHdvcmtzICovXG5cdFx0XHRcdFx0dGhpcy4kY29udGVudC5jc3MoJ3dpZHRoJywgJycgKyB3IC8gcmF0aW8gKyAncHgnKS5jc3MoJ2hlaWdodCcsICcnICsgaCAvIHJhdGlvICsgJ3B4Jyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyogVXRpbGl0eSBmdW5jdGlvbiB0byBjaGFpbiBjYWxsYmFja3Ncblx0XHQgICBbV2FybmluZzogZ3VydS1sZXZlbF1cblx0XHQgICBVc2VkIGJlIGV4dGVuc2lvbnMgdGhhdCB3YW50IHRvIGxldCB1c2VycyBzcGVjaWZ5IGNhbGxiYWNrcyBidXRcblx0XHQgICBhbHNvIG5lZWQgdGhlbXNlbHZlcyB0byB1c2UgdGhlIGNhbGxiYWNrcy5cblx0XHQgICBUaGUgYXJndW1lbnQgJ2NoYWluJyBoYXMgY2FsbGJhY2sgbmFtZXMgYXMga2V5cyBhbmQgZnVuY3Rpb24oc3VwZXIsIGV2ZW50KVxuXHRcdCAgIGFzIHZhbHVlcy4gVGhhdCBmdW5jdGlvbiBpcyBtZWFudCB0byBjYWxsIGBzdXBlcmAgYXQgc29tZSBwb2ludC5cblx0XHQqL1xuXHRcdGNoYWluQ2FsbGJhY2tzOiBmdW5jdGlvbihjaGFpbikge1xuXHRcdFx0Zm9yICh2YXIgbmFtZSBpbiBjaGFpbikge1xuXHRcdFx0XHR0aGlzW25hbWVdID0gJC5wcm94eShjaGFpbltuYW1lXSwgdGhpcywgJC5wcm94eSh0aGlzW25hbWVdLCB0aGlzKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdCQuZXh0ZW5kKEZlYXRoZXJsaWdodCwge1xuXHRcdGlkOiAwLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIFVzZWQgdG8gaWQgc2luZ2xlIGZlYXRoZXJsaWdodCBpbnN0YW5jZXMgKi9cblx0XHRhdXRvQmluZDogICAgICAgJ1tkYXRhLWZlYXRoZXJsaWdodF0nLCAgICAvKiBXaWxsIGF1dG9tYXRpY2FsbHkgYmluZCBlbGVtZW50cyBtYXRjaGluZyB0aGlzIHNlbGVjdG9yLiBDbGVhciBvciBzZXQgYmVmb3JlIG9uUmVhZHkgKi9cblx0XHRkZWZhdWx0czogICAgICAgRmVhdGhlcmxpZ2h0LnByb3RvdHlwZSwgICAvKiBZb3UgY2FuIGFjY2VzcyBhbmQgb3ZlcnJpZGUgYWxsIGRlZmF1bHRzIHVzaW5nICQuZmVhdGhlcmxpZ2h0LmRlZmF1bHRzLCB3aGljaCBpcyBqdXN0IGEgc3lub255bSBmb3IgJC5mZWF0aGVybGlnaHQucHJvdG90eXBlICovXG5cdFx0LyogQ29udGFpbnMgdGhlIGxvZ2ljIHRvIGRldGVybWluZSBjb250ZW50ICovXG5cdFx0Y29udGVudEZpbHRlcnM6IHtcblx0XHRcdGpxdWVyeToge1xuXHRcdFx0XHRyZWdleDogL15bIy5dXFx3LywgICAgICAgICAvKiBBbnl0aGluZyB0aGF0IHN0YXJ0cyB3aXRoIGEgY2xhc3MgbmFtZSBvciBpZGVudGlmaWVycyAqL1xuXHRcdFx0XHR0ZXN0OiBmdW5jdGlvbihlbGVtKSAgICB7IHJldHVybiBlbGVtIGluc3RhbmNlb2YgJCAmJiBlbGVtOyB9LFxuXHRcdFx0XHRwcm9jZXNzOiBmdW5jdGlvbihlbGVtKSB7IHJldHVybiB0aGlzLnBlcnNpc3QgIT09IGZhbHNlID8gJChlbGVtKSA6ICQoZWxlbSkuY2xvbmUodHJ1ZSk7IH1cblx0XHRcdH0sXG5cdFx0XHRpbWFnZToge1xuXHRcdFx0XHRyZWdleDogL1xcLihwbmd8anBnfGpwZWd8Z2lmfHRpZmY/fGJtcHxzdmcpKFxcP1xcUyopPyQvaSxcblx0XHRcdFx0cHJvY2VzczogZnVuY3Rpb24odXJsKSAge1xuXHRcdFx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0XHRcdGRlZmVycmVkID0gJC5EZWZlcnJlZCgpLFxuXHRcdFx0XHRcdFx0aW1nID0gbmV3IEltYWdlKCksXG5cdFx0XHRcdFx0XHQkaW1nID0gJCgnPGltZyBzcmM9XCInK3VybCsnXCIgYWx0PVwiXCIgY2xhc3M9XCInK3NlbGYubmFtZXNwYWNlKyctaW1hZ2VcIiAvPicpO1xuXHRcdFx0XHRcdGltZy5vbmxvYWQgID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHQvKiBTdG9yZSBuYXR1cmFsV2lkdGggJiBoZWlnaHQgZm9yIElFOCAqL1xuXHRcdFx0XHRcdFx0JGltZy5uYXR1cmFsV2lkdGggPSBpbWcud2lkdGg7ICRpbWcubmF0dXJhbEhlaWdodCA9IGltZy5oZWlnaHQ7XG5cdFx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKCAkaW1nICk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRpbWcub25lcnJvciA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5yZWplY3QoJGltZyk7IH07XG5cdFx0XHRcdFx0aW1nLnNyYyA9IHVybDtcblx0XHRcdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0aHRtbDoge1xuXHRcdFx0XHRyZWdleDogL15cXHMqPFtcXHchXVtePF0qPi8sIC8qIEFueXRoaW5nIHRoYXQgc3RhcnRzIHdpdGggc29tZSBraW5kIG9mIHZhbGlkIHRhZyAqL1xuXHRcdFx0XHRwcm9jZXNzOiBmdW5jdGlvbihodG1sKSB7IHJldHVybiAkKGh0bWwpOyB9XG5cdFx0XHR9LFxuXHRcdFx0YWpheDoge1xuXHRcdFx0XHRyZWdleDogLy4vLCAgICAgICAgICAgIC8qIEF0IHRoaXMgcG9pbnQsIGFueSBjb250ZW50IGlzIGFzc3VtZWQgdG8gYmUgYW4gVVJMICovXG5cdFx0XHRcdHByb2Nlc3M6IGZ1bmN0aW9uKHVybCkgIHtcblx0XHRcdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdFx0XHRkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcblx0XHRcdFx0XHQvKiB3ZSBhcmUgdXNpbmcgbG9hZCBzbyBvbmUgY2FuIHNwZWNpZnkgYSB0YXJnZXQgd2l0aDogdXJsLmh0bWwgI3RhcmdldGVsZW1lbnQgKi9cblx0XHRcdFx0XHR2YXIgJGNvbnRhaW5lciA9ICQoJzxkaXY+PC9kaXY+JykubG9hZCh1cmwsIGZ1bmN0aW9uKHJlc3BvbnNlLCBzdGF0dXMpe1xuXHRcdFx0XHRcdFx0aWYgKCBzdGF0dXMgIT09IFwiZXJyb3JcIiApIHtcblx0XHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZSgkY29udGFpbmVyLmNvbnRlbnRzKCkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZGVmZXJyZWQuZmFpbCgpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRpZnJhbWU6IHtcblx0XHRcdFx0cHJvY2VzczogZnVuY3Rpb24odXJsKSB7XG5cdFx0XHRcdFx0dmFyIGRlZmVycmVkID0gbmV3ICQuRGVmZXJyZWQoKTtcblx0XHRcdFx0XHR2YXIgJGNvbnRlbnQgPSAkKCc8aWZyYW1lLz4nKTtcblx0XHRcdFx0XHR2YXIgY3NzID0gcGFyc2VBdHRycyh0aGlzLCAnaWZyYW1lJyk7XG5cdFx0XHRcdFx0dmFyIGF0dHJzID0gc2xpY2UoY3NzLCBpRnJhbWVBdHRyaWJ1dGVTZXQpO1xuXHRcdFx0XHRcdCRjb250ZW50LmhpZGUoKVxuXHRcdFx0XHRcdFx0LmF0dHIoJ3NyYycsIHVybClcblx0XHRcdFx0XHRcdC5hdHRyKGF0dHJzKVxuXHRcdFx0XHRcdFx0LmNzcyhjc3MpXG5cdFx0XHRcdFx0XHQub24oJ2xvYWQnLCBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVzb2x2ZSgkY29udGVudC5zaG93KCkpOyB9KVxuXHRcdFx0XHRcdFx0Ly8gV2UgY2FuJ3QgbW92ZSBhbiA8aWZyYW1lPiBhbmQgYXZvaWQgcmVsb2FkaW5nIGl0LFxuXHRcdFx0XHRcdFx0Ly8gc28gbGV0J3MgcHV0IGl0IGluIHBsYWNlIG91cnNlbHZlcyByaWdodCBub3c6XG5cdFx0XHRcdFx0XHQuYXBwZW5kVG8odGhpcy4kaW5zdGFuY2UuZmluZCgnLicgKyB0aGlzLm5hbWVzcGFjZSArICctY29udGVudCcpKTtcblx0XHRcdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0dGV4dDoge1xuXHRcdFx0XHRwcm9jZXNzOiBmdW5jdGlvbih0ZXh0KSB7IHJldHVybiAkKCc8ZGl2PicsIHt0ZXh0OiB0ZXh0fSk7IH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZnVuY3Rpb25BdHRyaWJ1dGVzOiBbJ2JlZm9yZU9wZW4nLCAnYWZ0ZXJPcGVuJywgJ2JlZm9yZUNvbnRlbnQnLCAnYWZ0ZXJDb250ZW50JywgJ2JlZm9yZUNsb3NlJywgJ2FmdGVyQ2xvc2UnXSxcblxuXHRcdC8qKiogY2xhc3MgbWV0aG9kcyAqKiovXG5cdFx0LyogcmVhZCBlbGVtZW50J3MgYXR0cmlidXRlcyBzdGFydGluZyB3aXRoIGRhdGEtZmVhdGhlcmxpZ2h0LSAqL1xuXHRcdHJlYWRFbGVtZW50Q29uZmlnOiBmdW5jdGlvbihlbGVtZW50LCBuYW1lc3BhY2UpIHtcblx0XHRcdHZhciBLbGFzcyA9IHRoaXMsXG5cdFx0XHRcdHJlZ2V4cCA9IG5ldyBSZWdFeHAoJ15kYXRhLScgKyBuYW1lc3BhY2UgKyAnLSguKiknKSxcblx0XHRcdFx0Y29uZmlnID0ge307XG5cdFx0XHRpZiAoZWxlbWVudCAmJiBlbGVtZW50LmF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0JC5lYWNoKGVsZW1lbnQuYXR0cmlidXRlcywgZnVuY3Rpb24oKXtcblx0XHRcdFx0XHR2YXIgbWF0Y2ggPSB0aGlzLm5hbWUubWF0Y2gocmVnZXhwKTtcblx0XHRcdFx0XHRpZiAobWF0Y2gpIHtcblx0XHRcdFx0XHRcdHZhciB2YWwgPSB0aGlzLnZhbHVlLFxuXHRcdFx0XHRcdFx0XHRuYW1lID0gJC5jYW1lbENhc2UobWF0Y2hbMV0pO1xuXHRcdFx0XHRcdFx0aWYgKCQuaW5BcnJheShuYW1lLCBLbGFzcy5mdW5jdGlvbkF0dHJpYnV0ZXMpID49IDApIHsgIC8qIGpzaGludCAtVzA1NCAqL1xuXHRcdFx0XHRcdFx0XHR2YWwgPSBuZXcgRnVuY3Rpb24odmFsKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBqc2hpbnQgK1cwNTQgKi9cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHRyeSB7IHZhbCA9IEpTT04ucGFyc2UodmFsKTsgfVxuXHRcdFx0XHRcdFx0XHRjYXRjaChlKSB7fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y29uZmlnW25hbWVdID0gdmFsO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gY29uZmlnO1xuXHRcdH0sXG5cblx0XHQvKiBVc2VkIHRvIGNyZWF0ZSBhIEZlYXRoZXJsaWdodCBleHRlbnNpb25cblx0XHQgICBbV2FybmluZzogZ3VydS1sZXZlbF1cblx0XHQgICBDcmVhdGVzIHRoZSBleHRlbnNpb24ncyBwcm90b3R5cGUgdGhhdCBpbiB0dXJuXG5cdFx0ICAgaW5oZXJpdHMgRmVhdGhlcmxpZ2h0J3MgcHJvdG90eXBlLlxuXHRcdCAgIENvdWxkIGJlIHVzZWQgdG8gZXh0ZW5kIGFuIGV4dGVuc2lvbiB0b28uLi5cblx0XHQgICBUaGlzIGlzIHByZXR0eSBoaWdoIGxldmVsIHdpemFyZHksIGl0IGNvbWVzIHByZXR0eSBtdWNoIHN0cmFpZ2h0XG5cdFx0ICAgZnJvbSBDb2ZmZWVTY3JpcHQgYW5kIHdvbid0IHRlYWNoIHlvdSBhbnl0aGluZyBhYm91dCBGZWF0aGVybGlnaHRcblx0XHQgICBhcyBpdCdzIG5vdCByZWFsbHkgc3BlY2lmaWMgdG8gdGhpcyBsaWJyYXJ5LlxuXHRcdCAgIE15IHN1Z2dlc3Rpb246IG1vdmUgYWxvbmcgYW5kIGtlZXAgeW91ciBzYW5pdHkuXG5cdFx0Ki9cblx0XHRleHRlbmQ6IGZ1bmN0aW9uKGNoaWxkLCBkZWZhdWx0cykge1xuXHRcdFx0LyogU2V0dXAgY2xhc3MgaGllcmFyY2h5LCBhZGFwdGVkIGZyb20gQ29mZmVlU2NyaXB0ICovXG5cdFx0XHR2YXIgQ3RvciA9IGZ1bmN0aW9uKCl7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfTtcblx0XHRcdEN0b3IucHJvdG90eXBlID0gdGhpcy5wcm90b3R5cGU7XG5cdFx0XHRjaGlsZC5wcm90b3R5cGUgPSBuZXcgQ3RvcigpO1xuXHRcdFx0Y2hpbGQuX19zdXBlcl9fID0gdGhpcy5wcm90b3R5cGU7XG5cdFx0XHQvKiBDb3B5IGNsYXNzIG1ldGhvZHMgJiBhdHRyaWJ1dGVzICovXG5cdFx0XHQkLmV4dGVuZChjaGlsZCwgdGhpcywgZGVmYXVsdHMpO1xuXHRcdFx0Y2hpbGQuZGVmYXVsdHMgPSBjaGlsZC5wcm90b3R5cGU7XG5cdFx0XHRyZXR1cm4gY2hpbGQ7XG5cdFx0fSxcblxuXHRcdGF0dGFjaDogZnVuY3Rpb24oJHNvdXJjZSwgJGNvbnRlbnQsIGNvbmZpZykge1xuXHRcdFx0dmFyIEtsYXNzID0gdGhpcztcblx0XHRcdGlmICh0eXBlb2YgJGNvbnRlbnQgPT09ICdvYmplY3QnICYmICRjb250ZW50IGluc3RhbmNlb2YgJCA9PT0gZmFsc2UgJiYgIWNvbmZpZykge1xuXHRcdFx0XHRjb25maWcgPSAkY29udGVudDtcblx0XHRcdFx0JGNvbnRlbnQgPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0XHQvKiBtYWtlIGEgY29weSAqL1xuXHRcdFx0Y29uZmlnID0gJC5leHRlbmQoe30sIGNvbmZpZyk7XG5cblx0XHRcdC8qIE9ubHkgZm9yIG9wZW5UcmlnZ2VyLCBmaWx0ZXIgJiBuYW1lc3BhY2UuLi4gKi9cblx0XHRcdHZhciBuYW1lc3BhY2UgPSBjb25maWcubmFtZXNwYWNlIHx8IEtsYXNzLmRlZmF1bHRzLm5hbWVzcGFjZSxcblx0XHRcdFx0dGVtcENvbmZpZyA9ICQuZXh0ZW5kKHt9LCBLbGFzcy5kZWZhdWx0cywgS2xhc3MucmVhZEVsZW1lbnRDb25maWcoJHNvdXJjZVswXSwgbmFtZXNwYWNlKSwgY29uZmlnKSxcblx0XHRcdFx0c2hhcmVkUGVyc2lzdDtcblx0XHRcdHZhciBoYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdFx0dmFyICR0YXJnZXQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuXHRcdFx0XHQvKiAuLi4gc2luY2Ugd2UgbWlnaHQgYXMgd2VsbCBjb21wdXRlIHRoZSBjb25maWcgb24gdGhlIGFjdHVhbCB0YXJnZXQgKi9cblx0XHRcdFx0dmFyIGVsZW1Db25maWcgPSAkLmV4dGVuZChcblx0XHRcdFx0XHR7JHNvdXJjZTogJHNvdXJjZSwgJGN1cnJlbnRUYXJnZXQ6ICR0YXJnZXR9LFxuXHRcdFx0XHRcdEtsYXNzLnJlYWRFbGVtZW50Q29uZmlnKCRzb3VyY2VbMF0sIHRlbXBDb25maWcubmFtZXNwYWNlKSxcblx0XHRcdFx0XHRLbGFzcy5yZWFkRWxlbWVudENvbmZpZyhldmVudC5jdXJyZW50VGFyZ2V0LCB0ZW1wQ29uZmlnLm5hbWVzcGFjZSksXG5cdFx0XHRcdFx0Y29uZmlnKTtcblx0XHRcdFx0dmFyIGZsID0gc2hhcmVkUGVyc2lzdCB8fCAkdGFyZ2V0LmRhdGEoJ2ZlYXRoZXJsaWdodC1wZXJzaXN0ZWQnKSB8fCBuZXcgS2xhc3MoJGNvbnRlbnQsIGVsZW1Db25maWcpO1xuXHRcdFx0XHRpZihmbC5wZXJzaXN0ID09PSAnc2hhcmVkJykge1xuXHRcdFx0XHRcdHNoYXJlZFBlcnNpc3QgPSBmbDtcblx0XHRcdFx0fSBlbHNlIGlmKGZsLnBlcnNpc3QgIT09IGZhbHNlKSB7XG5cdFx0XHRcdFx0JHRhcmdldC5kYXRhKCdmZWF0aGVybGlnaHQtcGVyc2lzdGVkJywgZmwpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChlbGVtQ29uZmlnLiRjdXJyZW50VGFyZ2V0LmJsdXIpIHtcblx0XHRcdFx0XHRlbGVtQ29uZmlnLiRjdXJyZW50VGFyZ2V0LmJsdXIoKTsgLy8gT3RoZXJ3aXNlICdlbnRlcicga2V5IG1pZ2h0IHRyaWdnZXIgdGhlIGRpYWxvZyBhZ2FpblxuXHRcdFx0XHR9XG5cdFx0XHRcdGZsLm9wZW4oZXZlbnQpO1xuXHRcdFx0fTtcblxuXHRcdFx0JHNvdXJjZS5vbih0ZW1wQ29uZmlnLm9wZW5UcmlnZ2VyKycuJyt0ZW1wQ29uZmlnLm5hbWVzcGFjZSwgdGVtcENvbmZpZy5maWx0ZXIsIGhhbmRsZXIpO1xuXG5cdFx0XHRyZXR1cm4ge2ZpbHRlcjogdGVtcENvbmZpZy5maWx0ZXIsIGhhbmRsZXI6IGhhbmRsZXJ9O1xuXHRcdH0sXG5cblx0XHRjdXJyZW50OiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBhbGwgPSB0aGlzLm9wZW5lZCgpO1xuXHRcdFx0cmV0dXJuIGFsbFthbGwubGVuZ3RoIC0gMV0gfHwgbnVsbDtcblx0XHR9LFxuXG5cdFx0b3BlbmVkOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBrbGFzcyA9IHRoaXM7XG5cdFx0XHRwcnVuZU9wZW5lZCgpO1xuXHRcdFx0cmV0dXJuICQuZ3JlcChvcGVuZWQsIGZ1bmN0aW9uKGZsKSB7IHJldHVybiBmbCBpbnN0YW5jZW9mIGtsYXNzOyB9ICk7XG5cdFx0fSxcblxuXHRcdGNsb3NlOiBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0dmFyIGN1ciA9IHRoaXMuY3VycmVudCgpO1xuXHRcdFx0aWYoY3VyKSB7IHJldHVybiBjdXIuY2xvc2UoZXZlbnQpOyB9XG5cdFx0fSxcblxuXHRcdC8qIERvZXMgdGhlIGF1dG8gYmluZGluZyBvbiBzdGFydHVwLlxuXHRcdCAgIE1lYW50IG9ubHkgdG8gYmUgdXNlZCBieSBGZWF0aGVybGlnaHQgYW5kIGl0cyBleHRlbnNpb25zXG5cdFx0Ki9cblx0XHRfb25SZWFkeTogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgS2xhc3MgPSB0aGlzO1xuXHRcdFx0aWYoS2xhc3MuYXV0b0JpbmQpe1xuXHRcdFx0XHR2YXIgJGF1dG9ib3VuZCA9ICQoS2xhc3MuYXV0b0JpbmQpO1xuXHRcdFx0XHQvKiBCaW5kIGV4aXN0aW5nIGVsZW1lbnRzICovXG5cdFx0XHRcdCRhdXRvYm91bmQuZWFjaChmdW5jdGlvbigpe1xuXHRcdFx0XHRcdEtsYXNzLmF0dGFjaCgkKHRoaXMpKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdC8qIElmIGEgY2xpY2sgcHJvcGFnYXRlcyB0byB0aGUgZG9jdW1lbnQgbGV2ZWwsIHRoZW4gd2UgaGF2ZSBhbiBpdGVtIHRoYXQgd2FzIGFkZGVkIGxhdGVyIG9uICovXG5cdFx0XHRcdCQoZG9jdW1lbnQpLm9uKCdjbGljaycsIEtsYXNzLmF1dG9CaW5kLCBmdW5jdGlvbihldnQpIHtcblx0XHRcdFx0XHRpZiAoZXZ0LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHZhciAkY3VyID0gJChldnQuY3VycmVudFRhcmdldCk7XG5cdFx0XHRcdFx0dmFyIGxlbiA9ICRhdXRvYm91bmQubGVuZ3RoO1xuXHRcdFx0XHRcdCRhdXRvYm91bmQgPSAkYXV0b2JvdW5kLmFkZCgkY3VyKTtcblx0XHRcdFx0XHRpZihsZW4gPT09ICRhdXRvYm91bmQubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47IC8qIGFscmVhZHkgYm91bmQgKi9cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0LyogQmluZCBmZWF0aGVybGlnaHQgKi9cblx0XHRcdFx0XHR2YXIgZGF0YSA9IEtsYXNzLmF0dGFjaCgkY3VyKTtcblx0XHRcdFx0XHQvKiBEaXNwYXRjaCBldmVudCBkaXJlY3RseSAqL1xuXHRcdFx0XHRcdGlmICghZGF0YS5maWx0ZXIgfHwgJChldnQudGFyZ2V0KS5wYXJlbnRzVW50aWwoJGN1ciwgZGF0YS5maWx0ZXIpLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdGRhdGEuaGFuZGxlcihldnQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8qIEZlYXRoZXJsaWdodCB1c2VzIHRoZSBvbktleVVwIGNhbGxiYWNrIHRvIGludGVyY2VwdCB0aGUgZXNjYXBlIGtleS5cblx0XHQgICBQcml2YXRlIHRvIEZlYXRoZXJsaWdodC5cblx0XHQqL1xuXHRcdF9jYWxsYmFja0NoYWluOiB7XG5cdFx0XHRvbktleVVwOiBmdW5jdGlvbihfc3VwZXIsIGV2ZW50KXtcblx0XHRcdFx0aWYoMjcgPT09IGV2ZW50LmtleUNvZGUpIHtcblx0XHRcdFx0XHRpZiAodGhpcy5jbG9zZU9uRXNjKSB7XG5cdFx0XHRcdFx0XHQkLmZlYXRoZXJsaWdodC5jbG9zZShldmVudCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gX3N1cGVyKGV2ZW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblxuXHRcdFx0YmVmb3JlT3BlbjogZnVuY3Rpb24oX3N1cGVyLCBldmVudCkge1xuXHRcdFx0XHQvLyBVc2VkIHRvIGRpc2FibGUgc2Nyb2xsaW5nXG5cdFx0XHRcdCQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hZGRDbGFzcygnd2l0aC1mZWF0aGVybGlnaHQnKTtcblxuXHRcdFx0XHQvLyBSZW1lbWJlciBmb2N1czpcblx0XHRcdFx0dGhpcy5fcHJldmlvdXNseUFjdGl2ZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cblx0XHRcdFx0Ly8gRGlzYWJsZSB0YWJiaW5nOlxuXHRcdFx0XHQvLyBTZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNTk5NjYwL3doaWNoLWh0bWwtZWxlbWVudHMtY2FuLXJlY2VpdmUtZm9jdXNcblx0XHRcdFx0dGhpcy5fJHByZXZpb3VzbHlUYWJiYWJsZSA9ICQoXCJhLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgaWZyYW1lLCBidXR0b24sIGlmcmFtZSwgW2NvbnRlbnRFZGl0YWJsZT10cnVlXVwiKVxuXHRcdFx0XHRcdC5ub3QoJ1t0YWJpbmRleF0nKVxuXHRcdFx0XHRcdC5ub3QodGhpcy4kaW5zdGFuY2UuZmluZCgnYnV0dG9uJykpO1xuXG5cdFx0XHRcdHRoaXMuXyRwcmV2aW91c2x5V2l0aFRhYkluZGV4ID0gJCgnW3RhYmluZGV4XScpLm5vdCgnW3RhYmluZGV4PVwiLTFcIl0nKTtcblx0XHRcdFx0dGhpcy5fcHJldmlvdXNXaXRoVGFiSW5kaWNlcyA9IHRoaXMuXyRwcmV2aW91c2x5V2l0aFRhYkluZGV4Lm1hcChmdW5jdGlvbihfaSwgZWxlbSkge1xuXHRcdFx0XHRcdHJldHVybiAkKGVsZW0pLmF0dHIoJ3RhYmluZGV4Jyk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHRoaXMuXyRwcmV2aW91c2x5V2l0aFRhYkluZGV4LmFkZCh0aGlzLl8kcHJldmlvdXNseVRhYmJhYmxlKS5hdHRyKCd0YWJpbmRleCcsIC0xKTtcblxuXHRcdFx0XHRpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKSB7XG5cdFx0XHRcdFx0ZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIF9zdXBlcihldmVudCk7XG5cdFx0XHR9LFxuXG5cdFx0XHRhZnRlckNsb3NlOiBmdW5jdGlvbihfc3VwZXIsIGV2ZW50KSB7XG5cdFx0XHRcdHZhciByID0gX3N1cGVyKGV2ZW50KTtcblx0XHRcdFx0Ly8gUmVzdG9yZSBmb2N1c1xuXHRcdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRcdHRoaXMuXyRwcmV2aW91c2x5VGFiYmFibGUucmVtb3ZlQXR0cigndGFiaW5kZXgnKTtcblx0XHRcdFx0dGhpcy5fJHByZXZpb3VzbHlXaXRoVGFiSW5kZXguZWFjaChmdW5jdGlvbihpLCBlbGVtKSB7XG5cdFx0XHRcdFx0JChlbGVtKS5hdHRyKCd0YWJpbmRleCcsIHNlbGYuX3ByZXZpb3VzV2l0aFRhYkluZGljZXNbaV0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0dGhpcy5fcHJldmlvdXNseUFjdGl2ZS5mb2N1cygpO1xuXHRcdFx0XHQvLyBSZXN0b3JlIHNjcm9sbFxuXHRcdFx0XHRpZihGZWF0aGVybGlnaHQub3BlbmVkKCkubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0JChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLnJlbW92ZUNsYXNzKCd3aXRoLWZlYXRoZXJsaWdodCcpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiByO1xuXHRcdFx0fSxcblxuXHRcdFx0b25SZXNpemU6IGZ1bmN0aW9uKF9zdXBlciwgZXZlbnQpe1xuXHRcdFx0XHR0aGlzLnJlc2l6ZSh0aGlzLiRjb250ZW50Lm5hdHVyYWxXaWR0aCwgdGhpcy4kY29udGVudC5uYXR1cmFsSGVpZ2h0KTtcblx0XHRcdFx0cmV0dXJuIF9zdXBlcihldmVudCk7XG5cdFx0XHR9LFxuXG5cdFx0XHRhZnRlckNvbnRlbnQ6IGZ1bmN0aW9uKF9zdXBlciwgZXZlbnQpe1xuXHRcdFx0XHR2YXIgciA9IF9zdXBlcihldmVudCk7XG5cdFx0XHRcdHRoaXMuJGluc3RhbmNlLmZpbmQoJ1thdXRvZm9jdXNdOm5vdChbZGlzYWJsZWRdKScpLmZvY3VzKCk7XG5cdFx0XHRcdHRoaXMub25SZXNpemUoZXZlbnQpO1xuXHRcdFx0XHRyZXR1cm4gcjtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdCQuZmVhdGhlcmxpZ2h0ID0gRmVhdGhlcmxpZ2h0O1xuXG5cdC8qIGJpbmQgalF1ZXJ5IGVsZW1lbnRzIHRvIHRyaWdnZXIgZmVhdGhlcmxpZ2h0ICovXG5cdCQuZm4uZmVhdGhlcmxpZ2h0ID0gZnVuY3Rpb24oJGNvbnRlbnQsIGNvbmZpZykge1xuXHRcdEZlYXRoZXJsaWdodC5hdHRhY2godGhpcywgJGNvbnRlbnQsIGNvbmZpZyk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyogYmluZCBmZWF0aGVybGlnaHQgb24gcmVhZHkgaWYgY29uZmlnIGF1dG9CaW5kIGlzIHNldCAqL1xuXHQkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpeyBGZWF0aGVybGlnaHQuX29uUmVhZHkoKTsgfSk7XG59KGpRdWVyeSkpO1xuIl19
